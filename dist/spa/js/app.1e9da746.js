(function(e){function o(o){for(var a,n,s=o[0],l=o[1],c=o[2],u=0,m=[];u<s.length;u++)n=s[u],Object.prototype.hasOwnProperty.call(i,n)&&i[n]&&m.push(i[n][0]),i[n]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(e[a]=l[a]);d&&d(o);while(m.length)m.shift()();return r.push.apply(r,c||[]),t()}function t(){for(var e,o=0;o<r.length;o++){for(var t=r[o],a=!0,s=1;s<t.length;s++){var l=t[s];0!==i[l]&&(a=!1)}a&&(r.splice(o--,1),e=n(n.s=t[0]))}return e}var a={},i={0:0},r=[];function n(o){if(a[o])return a[o].exports;var t=a[o]={i:o,l:!1,exports:{}};return e[o].call(t.exports,t,t.exports,n),t.l=!0,t.exports}n.m=e,n.c=a,n.d=function(e,o,t){n.o(e,o)||Object.defineProperty(e,o,{enumerable:!0,get:t})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,o){if(1&o&&(e=n(e)),8&o)return e;if(4&o&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(n.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&o&&"string"!=typeof e)for(var a in e)n.d(t,a,function(o){return e[o]}.bind(null,a));return t},n.n=function(e){var o=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(o,"a",o),o},n.o=function(e,o){return Object.prototype.hasOwnProperty.call(e,o)},n.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],l=s.push.bind(s);s.push=o,s=s.slice();for(var c=0;c<s.length;c++)o(s[c]);var d=l;r.push([0,1]),t()})({0:function(e,o,t){e.exports=t("2f39")},"0047":function(e,o,t){},"034f":function(e,o,t){"use strict";t("ed82")},"0565":function(e,o,t){},"15a4":function(e,o){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAABmJLR0QA/wD/AP+gvaeTAAAIL0lEQVRoge2WaVBUVxbH/+/1vkMLAg0iCCg2xAXBBVfSKCqxRmOCS4JEJ+rURMiUE6cqqdRUjdEpzcTRcpxoGZ2MS6wZanA0IThampZNljQm0BFpBIKyK1vv/Xp5dz6gzqCBgJIPqXq/j++d+z/n3HPOvRfg4ODg4ODg4ODg4ODg4ODg4OD4eUH9lOJ6vV7s5+c3we12e9VqdXtMTAwzlJ1CoQgFAJVK1TqU3VjwkyT8hz17Xi0trtzf2dY+0eZ00RQFKGVSX0hYqGlJWsqvfpeTUwwAe/fuSy8qqTjY0doSZXO4aABQyqW+kNDQxqWpKdk7d+ZcGevYxjRhQgj15rZfny+8XrI6VCXAi9FShPkJwYKguceDa/V29DMs0elSPvb4vP7XrxVtHK/kQxctQ5g/HwBwr8+Dq/V2dNt9JFW35PTRo4ffGMsYxyxhQgiVmfVmUWlJxYINs/ywLFb+lLiPAHnVZlyqtYIQYO0MJdK1CtDUYEuWEFw0WnDRaMWSlEUFn578OH2s4hyThHNzc3kXLhRUllcYErYnqzE3Qjqs/eU6G8R8CoujZcPa6e/YcPrrfixYME9/6u/HdRRFkeeNlTIYDILExETPswrk5uaqzp3LMxiNt6J3LByHhAmS541pECVNdpwo68O8pFnf7nh7e3JycrLzWbX0ej2f0ulWmDWaUMOZMyd0oxU4cOBAyr/z8vN7enqk2YvUiAsWP2ssw1J1z4mjN3oRFhZiWbt2fcqOHVtujlZj3fpNN839/WE8tXr87sbGpujNm3/pKysrKRrJYkIIZTY7Dp/Pu/hXOY8RvpcaiIlq4YidswQANfJ50qgEmB0uQampW1RuqNqalbVFWFpa9NVI/e14+52/FF4v+gXN44OaP19nbu/oUoqEPKSmLf100fzZWzMyMnxDLd69e9+mstLig3V3mtVLYxVYN1MFPj3yo4AlBCfL+iDkU9g0239UhwjjJThr6ENxowNxU6O7Fi9ZtH3Xrp0Xh7I3GAyCTz459Q+9vvBlj5dFePiEDmrFS2urHtxtTIgKEKLyrh3hIYGMJjyySqudfEGrnVwRERHRXlZWmVDz3e2Mu3dMyxrutiki1UK8nuSHyFFUFQAIgHOGfsQHS+D0sWjv9+Dl6cpRaQCA6b4LZw0WtJs9iImc0B8RPaUgPn5K3ty5STWNjY2hRmP9/Dt3TKtbm5tntD/oEySFS1DX5cbkuHg9lf2bXUfyP7/01rxICaZpxDDdZ3CzxYV+50CRaWqgBcUCCjNCJXgxRo7YINGog3xUnekaKbQPZ/2bNieauhlsmDW6LgEGNs/Y5kRhox3V7S64veRxrACglvKRNFGCyYFC1LS5UNTkQOZrGe9S5eXlym1bs3vTYkS8LqsH8cEizImQwsqw6LN74SWAQsSDWsYD7xkvsZZ+Dy7WmLFSq0KwUjDo370+N67VW/HKDBWCFPxn0veyBD12H+xuFnyaglrKg1xEAwAsThaX6qwoa4f77JkTCgoAVq9ZX9lkup20Z2Uwvm5xoKmHwfIpcoSPsmWfpNfhw39qraBpIC1WBRH/h3fM6WFxqdYCAZ/CiqkKKMX0c/nttnlx3mhB2hQl5CIa7+Z3YEZiwtV/nju1lAKA48ePxx08dKxmTpiQXjfTD04Pi+ImG7qsXoT7CzBdI0awUoCRdF2fw4dbnS7c7mQgF9FYHK2An4Q3yObLWgtEfAqpkxWDvj+we1HUYIPbxyIuWAxtsHhEyfvIQKf0O1lM14jR6/CBAg2JgMLfKnph6oXn/fffCc/IyOh8nMJbOb89XJB/OXvjLD8smCR/LNZu8aCuy4X7Vu/jb9TDK0UqpMF4WXjZgZkiBFCIaMSOF2NSgOipDSKEIK/aAn2DDQBBulaJldqnDy2Pj6Cph4HpPgOHm33sU8ADhDwaXpZgor8QyZOkMHW5UNbsRJhKiOhAIYIU/xuZy3VWfPGdBWvWrPr9Rx/98QPgiaswK2tbQVHxjRUrtQNvXIoapqSEwOEhEPMp8GgKP/bmMzt9OFvVB9MDN9Et0x1m3T6/a1/ps2aGirE+wR8y4QgqyRIwXgIBTUEwxHgAAxU/X92P6w02pC5bcu740SOvPfo3qNeqq6s+e/WVdZOu3WyY9m2rgxqvECBANsRBQlEQ8KjhNwWAjWFxxWTFyfIeuHly16pVK7IP/Xn/3qqqigtbNmcxhtqWxVdv9/IAChqlAIJhTkb6oU/eELNFANR2OHGstBf1PV6yPD3t8NEjh7YNCvuHFu7b96dVV64WHmv+vlkTpBAgKVyKqUEiTPATDOnsEV6WoMPsQUM3g9pOBrc6nVDIpL74aS9c3ZSZsXH58uW9/29/6tQXoV9eyvvMWGNc6GYYOj5EAm2QGFGBQgQr+D/qz+MjaOnzoLbLhcp7DvQ6vIiKimp+KV33Rk5OTuGT9sOq7d9/MLOwpHRXZ2trbK/ZKqBAQSnhQS7iQS6kIBPSYLwETg+B08PC4WZhcXlBAKgUMt+4gMCWF+JjCzIzN7yXmJhoHs5XQUFB4Of5lz801dWndt9/oLE6XDQFAqWED4mAhkwwcAgJ+RSsDAu7m4WdGfAHUFCrle6Q0HDj4gWzPxju9TWim1Wv1/M7OjrmVlZ+83pbR1ekzWYNcDMeCWhKQlO0UyjkW0RisVUikViCAsa1zZmT8K/4+PjyuLg490j0n+TGjRsSo7F+Ya3p9uru+z3BDqdTybgYhcfjVrIgYsKyDolY7JTJpF2asLDvk+fMPA2gargnMQcHBwcHBwcHBwcHBwcHBwcHx8+V/wLhmV+yWMmzVgAAAABJRU5ErkJggg=="},"229e":function(e,o,t){"use strict";t("5012")},2964:function(e,o,t){"use strict";t("e68f")},"2f39":function(e,o,t){"use strict";t.r(o);t("ac1f"),t("5319"),t("96cf");var a=t("c973"),i=t.n(a),r=(t("5c7d"),t("7d6e"),t("e54f"),t("985d"),t("0047"),t("2b0e")),n=t("f476"),s=t("42d2"),l=t("b05d"),c=t("2a19"),d=t("436b");r["a"].use(l["a"],{config:{},lang:n["a"],iconSet:s["a"],plugins:{Notify:c["a"],Dialog:d["a"]}});var u=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{attrs:{id:"q-app"}},[t("router-view")],1)},m=[],f=(t("d3b7"),t("e6cf"),t("bc3a")),p=t.n(f);t("caad"),t("2532");function h(){return new Promise((function(e){var o=window.location.href,t=0;t=o.includes("desenvolvimento")?"6CF79041-6785-49BE-8F24-4AABD55AD654":o.includes("brucebarber")?"93b7fdb8-20f0-4a72-8a27-e34b3bacbd06":o.includes("winners")?"8A7F24E6-41AC-49ED-B2F2-9DFE756A2EFE":o.includes("bossbarbearia")?"4eb8c765-a491-4363-b9ba-e37e3f2e8148":"6CF79041-6785-49BE-8F24-4AABD55AD654",e(t)}))}var b=location.protocol,g=5e3,v=5001,x=b+"//servidornuvem.ddns.net:";function q(){return new Promise((function(e){p.a.defaults.baseURL=x,p.a.defaults.headers.post["Content-Type"]="application/json",p.a.defaults.headers.put["Content-Type"]="application/json",p.a.defaults.headers.patch["Content-Type"]="application/json",p.a.defaults.headers.common.Authorization="Bearer "+localStorage.getItem("token"),h().then((function(e){p.a.defaults.headers.common["X-Empresa-Guid"]=e})),e()}))}function y(e,o){return new Promise((function(t,a){q().then((function(){var i=JSON.stringify(o);p.a.patch(x+e,i).then((function(e){t(e)})).catch((function(e){a(e)}))}))}))}function P(e,o,t){return new Promise((function(a,i){q().then((function(){var r=JSON.stringify(o);p.a.patch(x+e,r,"Bearer "+t).then((function(e){a(e)})).catch((function(e){i(e)}))}))}))}function C(e,o){return new Promise((function(t,a){q().then((function(){var i=JSON.stringify(o);p.a.post(x+e,i).then((function(e){t(e)})).catch((function(e){a(e)}))}))}))}function w(e){return new Promise((function(o,t){q().then((function(){p.a.get(x+e).then((function(e){o(e)})).catch((function(e){t(e)}))}))}))}function S(e){return new Promise((function(o,t){q().then((function(){p.a.delete(x+e).then((function(e){o(e)})).catch((function(e){t(e)}))}))}))}function k(e,o){return new Promise((function(t,a){q().then((function(){var i=JSON.stringify(o);p.a.put(x+e,i).then((function(e){t(e)})).catch((function(e){a(e)}))}))}))}"http:"===b?x=x+g+"/api/":"https:"===b&&(x=x+v+"/api/");var T={name:"App"},M=T,_=(t("034f"),t("2877")),D=Object(_["a"])(M,u,m,!1,null,null,null),I=D.exports,Q=t("8c4f"),A=function(){var e=this,o=e.$createElement,a=e._self._c||o;return a("div",{staticClass:"container"},[a("div",{staticClass:"column items-center"},[a("q-img",{staticClass:"imagemFundo",attrs:{alt:"barber",src:t("34cb")}}),a("div",{staticClass:"quadroLogin"},[a("div",{staticClass:"text-dark areaLogin text-brown",staticStyle:{"text-align":"center"}},[e._v("Área de Login")]),a("hr"),a("q-input",{staticClass:"q-mt-md",attrs:{rules:[function(e){return e&&e.length>1||"Por favor, informe seu Login"}],placeholder:"Login",hint:"Digite o seu usuário..."},on:{keypress:function(o){return!o.type.indexOf("key")&&e._k(o.keyCode,"enter",13,o.key,"Enter")?null:e.nextFocus(o)}},model:{value:e.usuario,callback:function(o){e.usuario=o},expression:"usuario"}}),a("q-input",{ref:"inputSenha",attrs:{rules:[function(e){return e&&e.length>1||"Por favor, informe sua Senha"}],placeholder:"Senha",type:"password",hint:"Digite a sua senha cadastrada"},on:{keypress:function(o){return!o.type.indexOf("key")&&e._k(o.keyCode,"enter",13,o.key,"Enter")?null:e.fazerLogin(o)}},model:{value:e.senha,callback:function(o){e.senha=o},expression:"senha"}}),a("div",{staticClass:"q-mt-md column"},[a("q-btn",{staticClass:"botaoEntrar",staticStyle:{"align-self":"center",width:"50%"},attrs:{color:"brown",align:"center",label:"Entrar"},on:{click:e.fazerLogin}})],1)],1)],1),a("ModalTrocaSenha",{ref:"modalTrocaSenha"})],1)},F=[],N=t("970b"),L=t.n(N),$=t("9523"),z=t.n($),V=function e(){L()(this,e),z()(this,"Login",""),z()(this,"Senha","")},O=function e(){L()(this,e),z()(this,"Id",""),z()(this,"Senha",""),z()(this,"PrimeiroAcesso","")};t("1276");function j(){return new Promise((function(e){var o=localStorage.getItem("token");e(atob(o.split(".")[1]))}))}var B=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("q-dialog",{attrs:{persistent:""},model:{value:e.exibeModal,callback:function(o){e.exibeModal=o},expression:"exibeModal"}},[t("q-layout",{staticClass:"bg-brown tamanhoModal",attrs:{view:"Lhh lpR fff",container:""}},[t("q-header",{staticClass:"bg-dark col-12 row",staticStyle:{padding:"5px"}},[t("q-toolbar-title",[e._v("Alterar Senha")]),t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",dense:"",icon:"close",align:"right"}})],1),t("q-page-container",[t("q-page",{staticStyle:{padding:"10px"}},[t("div",{staticClass:"col-12 row"},[t("q-input",{staticClass:"col-md-6 col-xs-12 inputSenha",attrs:{error:e.erroSenha,"error-message":e.erroMSGSenha,color:"dark","label-color":"dark","bg-color":"white",filled:"",label:"Senha"},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"vpn_key",color:"brown"}})]},proxy:!0}]),model:{value:e.senha,callback:function(o){e.senha=o},expression:"senha"}}),t("q-input",{staticClass:"col-md-6 col-xs-12 inputSenha",attrs:{error:e.erroConfirmaSenha,"error-message":e.erroMSGConfirmaSenha,color:"dark","label-color":"dark","bg-color":"white",filled:"",label:"Confirmar Senha"},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"password",color:"brown"}})]},proxy:!0}]),model:{value:e.confirmaSenha,callback:function(o){e.confirmaSenha=o},expression:"confirmaSenha"}})],1),t("q-footer",{staticClass:"transparent"},[t("div",{staticClass:"row justify-center q-mb-md"},[t("q-btn",{staticClass:"botaoModal",attrs:{color:"red",icon:"close",label:"Fechar"},on:{click:e.fechaModal}}),t("q-btn",{staticClass:"botaoModal",attrs:{color:"green",icon:"save",label:"Salvar"},on:{click:e.teste}})],1)])],1)],1)],1)],1)},E=[],R={name:"Modal-TrocaSenha",data:function(){return{exibeModal:!1,erroSenha:!1,erroConfirmaSenha:!1,token:"",idUsuario:"",erroMSGSenha:"",erroMSGConfirmaSenha:"",senha:"",confirmaSenha:""}},methods:{abreModalTrocaSenha:function(e,o){this.exibeModal=!this.exibeModal,this.idUsuario=e,this.token=o,console.log(dados)},teste:function(){console.log(this.token),console.log(this.idUsuario)},confirmacao:function(){var e=this;return new Promise((function(o,t){e.$q.dialog({dark:!0,title:"Confirma a alteração desta senha ?",cancel:"Sair",persistent:!0}).onOk((function(){o()}))}))},fechaModal:function(){this.exibeModal=!this.exibeModal,this.limparCampos()},limparCampos:function(){this.senha=null,this.confirmaSenha=null},comparaSenha:function(){var e=this;return new Promise((function(o){var t=e.senha.toLowerCase(),a=e.confirmaSenha.toLowerCase();t===a?o(!0):(e.erroConfirmaSenha=!0,e.erroMSGConfirmaSenha="Esta senha não confere com a outra",e.$q.notify({type:"negative",message:"Atenção, as senhas não conferem!",timeout:"2000"}),setTimeout((function(){e.confirmaSenha=null,e.erroConfirmaSenha=!1,e.erroMSGConfirmaSenha=null}),2e3))}))},validaCampos:function(){var e=this;return new Promise((function(o){var t=!1;""===e.senha||null===e.senha||void 0===e.senha?(t=!0,e.erroSenha=!0,e.erroMSGSenha="Este campo é obrigatório"):(t=!1,e.erroSenha=!1,e.erroMSGSenha=null),""===e.confirmaSenha||null===e.confirmaSenha||void 0===e.confirmaSenha?(t=!0,e.erroConfirmaSenha=!0,e.erroMSGConfirmaSenha="Este campo é obrigatório"):(t=!1,e.erroConfirmaSenha=!1,e.erroMSGConfirmaSenha=null),!1===t&&o(!0)}))},salvarAlteracaoSenha:function(){var e=this;this.validaCampos().then((function(){e.comparaSenha().then((function(){var o=new O;o.Id=e.idUsuario,o.Senha=e.senha.toLowerCase(),o.PrimeiroAcesso="N",P("v1/usuario/senha",o,e.token).then((function(o){1==o.data.status?(e.$q.notify({type:"positive",message:o.data.msg,timeout:"2000"}),setTimeout((function(){e.fechaModal(),e.$q.notify({color:"primary",message:"Faça login com a nova senha",timeout:"2000"})}),2e3),localStorage.removeItem("token")):e.$q.notify({type:"negative",message:o.data.msg,timeout:"2000"})})).catch((function(o){console.log(o),e.$q.notify({type:"negative",message:"Erro, não foi possível fazer a alteração, tente novamente mais tarde...",timeout:"2000"})}))}))}))}}},G=R,H=(t("2964"),t("24e8")),U=t("4d5a"),W=t("e359"),Y=t("6ac5"),K=t("9c40"),X=t("09e3"),J=t("9989"),Z=t("27f9"),ee=t("0016"),oe=t("7ff0"),te=t("7f67"),ae=t("eebe"),ie=t.n(ae),re=Object(_["a"])(G,B,E,!1,null,"7400ce66",null),ne=re.exports;ie()(re,"components",{QDialog:H["a"],QLayout:U["a"],QHeader:W["a"],QToolbarTitle:Y["a"],QBtn:K["a"],QPageContainer:X["a"],QPage:J["a"],QInput:Z["a"],QIcon:ee["a"],QFooter:oe["a"]}),ie()(re,"directives",{ClosePopup:te["a"]});var se={name:"Login",components:{ModalTrocaSenha:ne},data:function(){return{usuario:"",senha:""}},methods:{nextFocus:function(){this.$refs.inputSenha.focus()},abreModalAlteraSenha:function(){this.$refs.modalTrocaSenha.abreModalTrocaSenha()},fazerLogin:function(){var e=this,o=new V;o.Login=this.usuario.toLowerCase(),o.Senha=this.senha.toLowerCase(),this.$q.notify({message:"carregando...",color:"blue",timeout:"500"}),setTimeout((function(){C("v1/auth/login",o).then(function(){var o=i()(regeneratorRuntime.mark((function o(t){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return e.$q.notify({message:"Logado com sucesso",color:"green",timeout:3e3}),localStorage.setItem("token",t.data.token),o.t0=localStorage,o.next=5,j();case 5:o.t1=o.sent,o.t0.setItem.call(o.t0,"tokenContent",o.t1),e.$router.push("/home");case 8:case"end":return o.stop()}}),o)})));return function(e){return o.apply(this,arguments)}}()).catch((function(){e.senha=null,e.$q.notify({message:"Erro, tente novamente",caption:"Login ou Senha incorretos",color:"red"})}))}),1e3)},verificaTokenValido:function(){var e=this,o=localStorage.getItem("token");null!=o&&w("v1/empresa/usuario/token").then((function(o){200==o.status&&e.$router.push("/home")})).catch((function(e){}))}},beforeMount:function(){this.verificaTokenValido()}},le=se,ce=(t("da41"),t("068f")),de=Object(_["a"])(le,A,F,!1,null,null,null),ue=de.exports;ie()(de,"components",{QImg:ce["a"],QInput:Z["a"],QBtn:K["a"]});var me=function(){var e=this,o=e.$createElement,a=e._self._c||o;return a("q-layout",{staticStyle:{width:"100%"},attrs:{view:"hhh Lpr fff"}},[a("Header"),a("q-page-container",[a("q-img",{staticClass:"imagemFundo",attrs:{alt:"barber",src:t("fecf")}}),a("q-page",{staticClass:"transparent",staticStyle:{padding:"10px"}},[a("GradeServico")],1)],1)],1)},fe=[],pe=function(){var e=this,o=e.$createElement,a=e._self._c||o;return a("div",[a("q-header",{staticClass:"bg-black text-white",staticStyle:{position:"fixed"},attrs:{elevated:""}},[a("q-toolbar",[a("q-toolbar-title",{staticStyle:{"font-family":"'Ruthie', cursive","font-size":"30px"}},[a("q-avatar",[a("img",{attrs:{src:t("15a4")}})]),e._v("\n        BarberSoft  House...\n      ")],1),a("div",{staticClass:"row justify-end"},[a("Item")],1)],1)],1)],1)},he=[],be=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("q-btn",{staticStyle:{background:"#080808"},attrs:{icon:"exit_to_app",size:"13px"}},[t("q-menu",[t("div",{staticClass:"row no-wrap q-pa-md"},[t("div",{staticClass:"column justify-center"},[t("div",{staticClass:"text-h6 q-mb-md",staticStyle:{"font-family":"'Ruthie', cursive","font-size":"30px"}},[e._v("BarberSoftHouse")]),t("div",{staticStyle:{"margin-top":"40px"}},[t("div",{staticClass:"text-center"},[e._v("Versão: "+e._s(e.versaoApp))]),t("div",{staticClass:"text-center q-mb-md"},[e._v("Data: "+e._s(e.dataVersaoApp))])])]),t("q-separator",{staticClass:"q-mx-lg",attrs:{vertical:"",inset:""}}),t("div",{staticClass:"column items-center"},[t("q-avatar",{staticClass:"bg-dark",attrs:{size:"72px"}},[t("div",{staticClass:"text-white"},[e._v(e._s(e.nomeUsuario.substr(0,1)))])]),t("div",{staticClass:"text-subtitle2 q-mt-md q-mb-xs"},[e._v(e._s(e.nomeUsuario))]),t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{color:"primary",label:"Sair",push:"",size:"sm"},on:{click:e.removeItensLocalStorage}})],1)],1)])],1)},ge=[],ve={name:"Item-Menu",data:function(){return{nomeUsuario:"",nomeLogin:"",versaoApp:"",dataVersaoApp:""}},methods:{removeItensLocalStorage:function(){localStorage.removeItem("token"),localStorage.removeItem("tokenContent"),this.$router.push("/"),window.history.forward()},dadosLocalStorage:function(){var e=JSON.parse(localStorage.getItem("tokenContent"));this.nomeUsuario=e.Usuario,this.nomeLogin=e.Login}},mounted:function(){this.versaoApp="1.1.0",this.dataVersaoApp="01/02/2021",this.dadosLocalStorage()}},xe=ve,qe=t("4e73"),ye=t("eb85"),Pe=t("cb32"),Ce=Object(_["a"])(xe,be,ge,!1,null,null,null),we=Ce.exports;ie()(Ce,"components",{QBtn:K["a"],QMenu:qe["a"],QSeparator:ye["a"],QAvatar:Pe["a"]}),ie()(Ce,"directives",{ClosePopup:te["a"]});var Se={name:"Cabecalho",components:{Item:we},data:function(){return{drawer:!1,nomeUsuario:"",nomeLogin:""}},methods:{abreMenuHeader:function(){this.$refs.menuHeader.abreMenu()}}},ke=Se,Te=t("65c6"),Me=t("429b"),_e=t("7867"),De=Object(_["a"])(ke,pe,he,!1,null,null,null),Ie=De.exports;ie()(De,"components",{QHeader:W["a"],QToolbar:Te["a"],QBtn:K["a"],QToolbarTitle:Y["a"],QAvatar:Pe["a"],QTabs:Me["a"],QRouteTab:_e["a"]});var Qe=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"transparent"},[t("div",{staticClass:"q-mb-xs row",staticStyle:{"justify-content":"space-between"}},[t("div",{staticClass:"q-ml-xs"},[t("q-btn",{staticClass:"q-mr-sm",attrs:{size:"14px",round:"",color:"red",icon:"shopping_cart"},on:{click:e.abrirModalProduto}},[t("q-tooltip",{attrs:{anchor:"bottom middle",self:"top middle",offset:[18,18],"content-style":"font-size: 14px"}},[e._v("Produtos")])],1),t("q-btn",{staticClass:"q-mr-sm",attrs:{size:"14px",round:"",color:"primary",icon:"person_search"},on:{click:e.abrirModalCliente}},[t("q-tooltip",{attrs:{anchor:"bottom middle",self:"top middle",offset:[18,18],"content-style":"font-size: 14px"}},[e._v("Cliente")])],1),t("q-btn",{staticClass:"q-mr-sm",attrs:{size:"14px",round:"",color:"accent",icon:"group"},on:{click:e.abrirModalProfissional}},[t("q-tooltip",{attrs:{anchor:"bottom middle",self:"top middle",offset:[18,18],"content-style":"font-size: 14px"}},[e._v("Profissional")])],1),t("q-btn",{attrs:{size:"14px",round:"",color:"black",icon:"content_cut"},on:{click:e.abrirModalServico}},[t("q-tooltip",{attrs:{anchor:"bottom middle",self:"top middle",offset:[18,18],"content-style":"font-size: 14px"}},[e._v("Serviços")])],1)],1),t("div",[t("q-fab",{attrs:{icon:"keyboard_arrow_right",direction:"left",color:"green",padding:"sm","hide-label":""},model:{value:e.fab1,callback:function(o){e.fab1=o},expression:"fab1"}},["S"===e.dadosUsuario.Root?t("q-fab-action",{attrs:{color:"primary",icon:"attach_money",label:"Caixa"},on:{click:e.exibirModalCaixa}}):e._e(),t("q-fab-action",{attrs:{color:"secondary",icon:"store",label:"Forma de Pagamento"},on:{click:e.abrirModalFormaPagamento}})],1)],1)]),t("div",{staticClass:"q-mt-sm"},[t("q-card",[t("q-tabs",{staticClass:"text-dark",staticStyle:{height:"50px"},attrs:{dense:"","active-color":"brown","indicator-color":"brown",align:"justify"},model:{value:e.tabela,callback:function(o){e.tabela=o},expression:"tabela"}},[t("q-tab",{attrs:{name:"emAberto",label:"Em Aberto"}}),t("q-tab",{attrs:{name:"aReceber",label:"A Receber"}}),t("q-tab",{attrs:{name:"finalizado",label:"Finalizado"}})],1),t("q-separator"),t("q-tab-panels",{attrs:{animated:""},model:{value:e.tabela,callback:function(o){e.tabela=o},expression:"tabela"}},[t("q-tab-panel",{attrs:{name:"emAberto"}},[t("TabelaAtendimento",{ref:"tabelaAtendimentoAberto",attrs:{TituloTabela:"Atendimentos em Aberto",MensagemTabelaSemDados:"Nenhum atendimento em aberto...",TipoTabela:"A",MaximoLinha:e.maximoLinhas,AbreModalInclusao:e.exibirModalInclusao,AcaoBotaoInclusao:e.exibirModalInsereItens,TabelaEmAberto:!0,BotaoAdicionarVisivel:!0}})],1),t("q-tab-panel",{attrs:{name:"aReceber"}},[t("TabelaAtendimento",{ref:"tabelaAtendimentoFinanceiro",attrs:{TituloTabela:"Atendimentos a Receber",MensagemTabelaSemDados:"Nenhum atendimento a receber...",TipoTabela:"B",MaximoLinha:e.maximoLinhas,AcaoBotaoInclusao:e.exibirModalInsereFormaDePagamento,AbreModalInclusao:function(){},TabelaFinanceiro:!0}})],1),t("q-tab-panel",{attrs:{name:"finalizado"}},[t("TabelaAtendimento",{ref:"tabelaAtendimentoFinalizado",attrs:{TituloTabela:"Atendimentos Finalizados",MensagemTabelaSemDados:"Nenhum atendimento finalizado...",TipoTabela:"C",MaximoLinha:e.maximoLinhas,AbreModalInclusao:function(){},TabelaFinalizado:!0,ExibeModalVisualizacao:e.exibirModalVisualizacao}})],1)],1)],1)],1),t("ModalOrdemServico",{ref:"modalOrdemServico",on:{atualizaGrade:function(o){return e.recebeDadosTabelas("A")},atualizaGradeEmAberto:function(o){return e.recebeDadosTabelas("A")},atualizaGradeFinanceiro:function(o){return e.recebeDadosTabelas("B")}}}),t("ModalProduto",{ref:"modalProduto"}),t("ModalProfissional",{ref:"modalProfissional"}),t("ModalCliente",{ref:"modalCliente"}),t("ModalServico",{ref:"modalServico"}),t("ModalFormaPagamento",{ref:"modalFormaPagamento"}),t("ModalCaixa",{ref:"modalCaixa"})],1)},Ae=[],Fe=function(){var e=this,o=e.$createElement,a=e._self._c||o;return a("q-dialog",{attrs:{persistent:"","full-width":"",maximized:e.fullHeight,"full-height":e.fullHeight},model:{value:e.exibeModal,callback:function(o){e.exibeModal=o},expression:"exibeModal"}},[a("q-layout",{class:e.estiloLayout,attrs:{view:"Lhh lpR fff",container:""}},[a("q-header",{staticClass:"row bg-dark",staticStyle:{padding:"5px"}},[a("q-img",{staticStyle:{width:"35px"},attrs:{src:t("15a4"),alt:"Bigode"}}),a("q-toolbar-title",{staticClass:"q-mt-xs tituloModal",staticStyle:{"text-align":"start"}},[e._v(e._s(e.tituloModal))]),a("q-toolbar-title",{directives:[{name:"show",rawName:"v-show",value:0==e.modalInclusao,expression:"modalInclusao == false"}],staticClass:"q-mt-xs tituloModal",staticStyle:{"text-align":"end"}},[e._v("Atend. N°: "+e._s(e.idOrdemServico))]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",dense:"",icon:"close",align:"right"}})],1),a("q-page-container",{staticClass:"row",staticStyle:{margin:"10px"}},[a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.modalInclusao,expression:"modalInclusao == true"}],staticClass:"col-12 row q-mb-md"},[a("div",{staticClass:"col-md-6 row justify-end items-center q-pr-sm"},[a("hr",{staticClass:"bg-dark linhaInclusao"}),a("q-btn",{staticClass:"bg-accent justify-start",attrs:{flat:"",round:"",dense:"",icon:"group",color:"white"},on:{click:e.exibirModalProfissional}},[a("q-tooltip",{attrs:{anchor:"bottom middle",self:"top middle",offset:[18,18],"content-style":"font-size: 14px"}},[e._v("Profissional")])],1)],1),a("div",{staticClass:"col-md-6 row justify-end items-center q-pr-sm"},[a("hr",{staticClass:"bg-dark linhaInclusao"}),a("q-btn",{staticClass:"bg-primary justify-start",attrs:{flat:"",round:"",dense:"",icon:"person_search",color:"white"},on:{click:e.exibirModalCliente}},[a("q-tooltip",{attrs:{anchor:"bottom middle",self:"top middle",offset:[18,18],"content-style":"font-size: 14px"}},[e._v("Cliente")])],1)],1)]),a("div",{staticClass:"col-12 row q-mb-sm"},[a("div",{staticClass:"componentsMobile col-md-6 col-xs-12"},[a("q-select",{staticClass:"inputSelect",attrs:{options:e.profissionalSelect,readonly:0==e.modalInclusao,"option-value":"id","option-label":"nome","use-input":"","hide-selected":"",filled:"","fill-input":"",outlined:"",label:"Selecionar Profissional","bg-color":"white"},on:{filter:e.filtraProfissional},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[a("div",{staticClass:"row items-center"},[a("q-icon",{staticClass:"q-mr-xs",attrs:{name:"sentiment_dissatisfied",color:"brown",size:"15px"}}),e._v("Sem Resultados\n                  ")],1)])],1)]},proxy:!0},{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"content_cut",color:"brown"}})]},proxy:!0}]),model:{value:e.profissionalSelecionado,callback:function(o){e.profissionalSelecionado=o},expression:"profissionalSelecionado"}})],1),a("div",{staticClass:"componentsMobile col-md-6 col-xs-12"},[a("q-select",{staticClass:"inputSelect",attrs:{options:e.clienteSelect,readonly:0==e.modalInclusao,"option-value":"id","option-label":"nome","use-input":"","hide-selected":"",filled:"","fill-input":"",outlined:"",label:"Selecionar Cliente","bg-color":"white"},on:{filter:e.filtraCliente},scopedSlots:e._u([{key:"no-option",fn:function(){return[a("q-item",[a("q-item-section",{staticClass:"text-grey"},[a("div",{staticClass:"row items-center"},[a("q-icon",{staticClass:"q-mr-xs",attrs:{name:"sentiment_dissatisfied",color:"brown",size:"15px"}}),e._v("Sem Resultados\n                  ")],1)])],1)]},proxy:!0},{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"person",color:"brown"}})]},proxy:!0}]),model:{value:e.clienteSelecionado,callback:function(o){e.clienteSelecionado=o},expression:"clienteSelecionado"}})],1)]),a("div",{directives:[{name:"show",rawName:"v-show",value:0==e.modalInclusao,expression:"modalInclusao == false"}],staticClass:"col-12 row bg-white borda",staticStyle:{padding:"5px"}},[a("div",{staticClass:"col-md-6 col-xs-12",staticStyle:{padding:"2px"}},[a("ItemServico",{ref:"itemServicoAtendimento",attrs:{AtendimentoId:e.idOrdemServico,ModoLeitura:e.somenteLeitura},on:{fechaModalOrdemServico:e.fechaModal}})],1),a("div",{staticClass:"col-12 espacoModoCelular"}),a("hr",{staticClass:"bg-dark col-12 espacoModoCelular relative",staticStyle:{height:"1px"}}),a("div",{staticClass:"col-md-6 col-xs-12",staticStyle:{padding:"2px"}},[a("ItemProduto",{ref:"itemProdutoAtendimento",attrs:{AtendimentoId:e.idOrdemServico,ModoLeitura:e.somenteLeitura}})],1),!0===e.modalInsereFormaPagamento||!0===e.modalVisualizacao?a("div",{staticClass:"col-12 espacoModoCelular"}):e._e(),!0===e.modalInsereFormaPagamento||!0===e.modalVisualizacao?a("hr",{staticClass:"bg-dark col-12 espacoModoCelular relative",staticStyle:{height:"1px"}}):e._e(),a("div",{staticClass:"col-md-12 col-xs-12",staticStyle:{padding:"2px"}},[a("ItemFormaPagamento",{ref:"itemFormaPagamento",attrs:{AtendimentoId:e.idOrdemServico,ModoLeitura:e.somenteLeituraFormaPagamento,IsVisible:e.isVisibleFormaPagamento}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:1!=e.somenteLeitura,expression:"somenteLeitura != true"}],staticClass:"col-12 row justify-center",staticStyle:{padding:"5px"}},[a("q-btn",{staticClass:"q-mb-xs justify-center",attrs:{icon:"save",label:"Salvar",color:"green"},on:{click:e.salvarItensTabela}})],1),a("div",{directives:[{name:"show",rawName:"v-show",value:1==e.modalInsereFormaPagamento,expression:"modalInsereFormaPagamento == true"}],staticClass:"q-mt-sm col-12 row justify-center",staticStyle:{padding:"5px"}},[a("q-btn",{staticStyle:{"border-radius":"5px"},attrs:{icon:"save",label:"Salvar Forma de Pagamento",color:"green"},on:{click:e.salvarFormaPagamentoTabela}})],1)])]),a("div",{staticClass:"row justify-center botaoModal"},[a("q-btn",{directives:[{name:"show",rawName:"v-show",value:1==e.modalInclusao,expression:"modalInclusao == true"}],staticClass:"q-mr-sm",staticStyle:{"border-radius":"5px"},attrs:{icon:"save",label:"Salvar",color:"green"},on:{click:e.adicionarNovoAtendimento}}),a("q-btn",{staticStyle:{"border-radius":"5px"},attrs:{icon:"close",label:"Fechar",color:"red"},on:{click:e.fechaModal}})],1),a("ItemCliente",{ref:"itemCliente",on:{atualizaCampo:e.recebeDadosTabela}}),a("ItemProfissional",{ref:"itemProfissional",on:{atualizaCampo:e.recebeDadosTabela}})],1)],1)},Ne=[],Le=(t("4de4"),t("c975"),function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",[t("div",{directives:[{name:"show",rawName:"v-show",value:0==e.somenteLeitura,expression:"somenteLeitura == false"}],staticClass:"col-12 row items-center q-mb-xs"},[t("q-select",{staticClass:"col-md-8 col-xs-6 q-pr-sm",attrs:{disable:e.somenteLeitura,"option-value":"id","option-label":"descricao",options:e.servicos,label:"Serviço"},model:{value:e.servicoSelecionado,callback:function(o){e.servicoSelecionado=o},expression:"servicoSelecionado"}}),t("q-select",{staticClass:"col-md-3 col-xs-6 q-pr-xs",attrs:{disable:e.somenteLeitura,"option-value":"value","option-label":"label",options:e.quantidadeOpcoes,label:"Quantidade"},model:{value:e.quantidadeSelecionada,callback:function(o){e.quantidadeSelecionada=o},expression:"quantidadeSelecionada"}}),t("div",{staticClass:"col-md-1 col-xs-12 q-mt-xs botaoAdicionar"},[t("q-btn",{attrs:{disable:e.somenteLeitura,color:"primary",icon:"add"},on:{click:e.adicionaServico}},[t("q-tooltip",{attrs:{anchor:"center left",self:"center right"}},[e._v("Adicionar Serviço")])],1)],1)],1),t("q-table",{attrs:{title:"Serviços",color:"black","row-key":"id","card-style":"border-radius: 10px",dense:"","rows-per-page-options":e.maximoLinhas,data:e.dados,columns:e.colunas},scopedSlots:e._u([{key:"top-right",fn:function(){return[t("q-btn",{directives:[{name:"show",rawName:"v-show",value:0==e.somenteLeitura,expression:"somenteLeitura == false"}],attrs:{round:"",size:"10px",color:"teal",icon:"cleaning_services"},on:{click:function(o){return e.dados.pop()}}},[t("q-tooltip",{attrs:{anchor:"bottom middle",self:"top middle",offset:[18,18],"content-style":"font-size: 14px"}},[e._v("Limpar dados da tabela")])],1)]},proxy:!0},{key:"body-cell-descricao",fn:function(o){return[t("q-td",{key:"descricao",attrs:{props:o}},[e._v(e._s(o.row.descricao))])]}},{key:"body-cell-quantidade",fn:function(o){return[t("q-td",{key:"quantidade",attrs:{props:o}},[e._v(e._s(o.row.quantidade))])]}},{key:"body-cell-valor",fn:function(o){return[t("q-td",{key:"valor",attrs:{props:o}},[e._v("R$ "+e._s(o.row.valor.toFixed(2)))])]}},{key:"body-cell-total",fn:function(o){return[t("q-td",{key:"total",attrs:{props:o}},[e._v("R$ "+e._s(o.row.total.toFixed(2)))])]}}])}),t("div",{directives:[{name:"show",rawName:"v-show",value:1==e.somenteLeitura,expression:"somenteLeitura == true"}],staticClass:"q-mt-xs row justify-end"},[t("q-card",{staticClass:"shadow-15",staticStyle:{width:"200px"}},[t("q-card-section",{staticStyle:{"text-align":"end",height:"65px"}},[t("strong",[e._v("TOTAL GERAL do Serviço:")]),t("div",{staticClass:"q-mb-xs",staticStyle:{"font-size":"20px"}},[e._v("R$ "+e._s(e.valorTotal.toFixed(2)))])])],1)],1)],1)}),$e=[],ze=(t("7db0"),t("a9e3"),{name:"ItemAtendimento",props:{AtendimentoId:Number,ModoLeitura:Boolean,DadosTabela:Array,FechaModal:Function},data:function(){return{atendimentoID:this.AtendimentoId,somenteLeitura:this.ModoLeitura,dadosTabelaVisualizacao:this.DadosTabela,quantidadeSelecionada:"",quantidadeOpcoes:[{value:1,label:1},{value:2,label:2},{value:3,label:3},{value:4,label:4},{value:5,label:5},{value:6,label:6},{value:7,label:7},{value:8,label:8},{value:9,label:9},{value:10,label:10},{value:11,label:11},{value:12,label:12}],valorTotal:0,maximoLinhas:[4],itemAtendimento:[],servicoSelecionado:[],servicos:[],dados:[],colunas:[{name:"id",align:"right",label:"Id",field:"id",sortable:!0},{name:"descricao",align:"left",label:"Descrição",sortable:!0},{name:"quantidade",align:"right",label:"Quantidade",sortable:!0},{name:"valor",align:"right",label:"Valor Unitário",sortable:!0},{name:"total",align:"right",label:"Total",sortable:!0}]}},methods:{recebeDados:function(){var e=this;w("v1/servico").then((function(o){e.servicos=o.data})).catch((function(e){console.log(e)}))},limpaDados:function(){this.servicoSelecionado=[],this.dados=[],this.itemAtendimento=[]},confirmacao:function(){var e=this;return new Promise((function(o,t){e.$q.dialog({dark:!0,title:"Tem certeza que inserir esses itens ?",cancel:"Sair",persistent:!0}).onOk((function(){o()}))}))},adicionaServico:function(){if(null==this.servicoSelecionado||""==this.servicoSelecionado)this.$q.notify({type:"negative",message:"Por favor, selecione um serviço",timeout:2e3});else if(""==this.quantidadeSelecionada||null==this.quantidadeSelecionada)this.$q.notify({type:"negative",message:"Por favor, insira a quantidade",timeout:2e3});else{var e=this.quantidadeSelecionada,o=Object();o=this.servicoSelecionado;var t=Object();t=this.dados;var a=Object();a.id=o.id,a.descricao=o.descricao,a.quantidade=e.value,a.valor=o.valor,a.total=parseFloat(o.valor)*parseInt(e.value);var i=Object();i.AtendimentoId=this.atendimentoID,i.Descricao=o.descricao,i.Quantidade=e.value,i.TipoItem="S",i.ValorUnitario=o.valor,i.ValorTotal=o.valor*parseInt(e.value),t.find((function(e){return e.id==a.id}))?(this.$q.notify({type:"negative",message:"Serviço já adicionado, neste caso, modifique a quantidade",timeout:2e3}),this.servicoSelecionado=[],this.quantidadeSelecionada=null):(this.dados.push(a),this.itemAtendimento.push(i),this.servicoSelecionado=[],this.quantidadeSelecionada=null)}},recebeDadosVisualizacao:function(){var e=this;w("v1/itematendimento/atendimentoservico/"+this.atendimentoID).then((function(o){for(var t={},a=0;a<o.data.length;a++)t.id=o.data[a].id,t.descricao=o.data[a].descricao,t.quantidade=o.data[a].quantidade,t.valor=o.data[a].valorUnitario,t.total=o.data[a].valorTotal,e.valorTotal+=t.total,e.dados.push(t),t={}})).catch((function(e){return console.log(e)}))},salvarServicos:function(){var e=this;return new Promise((function(o,t){e.dados.length>0?(e.$q.notify({color:"primary",message:"Carregando...",timeout:2e3}),setTimeout((function(){for(var t=e.itemAtendimento,a=0;a<t.length;a++)C("v1/itematendimento",t[a]).then((function(t){1==t.data.status?(e.$q.notify({color:"green",message:t.data.msg,timeout:2e3}),y("v1/atendimento/financeiro/"+e.atendimentoID).then((function(t){1==t.data.status&&(e.$q.notify({color:"accent",message:"Foi gerado financeiro, favor verificar...",timeout:3e3}),o(!0))})).catch((function(o){e.$q.notify({type:"negative",message:"Erro ao gerar financeiro, favor verificar mais tarde...",timeout:3e3})})),e.limpaDados(),e.$emit("fechaModalOrdemServico"),e.FechaModal):e.$q.notify({color:"red",message:t.data.msg,timeout:2e3})})).catch((function(o){e.$q.notify({type:"negative",message:"Erro ao inserir item, tente novamente mais tarde",timeout:2e3}),console.log(o.message)}))}),1e3)):e.$q.notify({color:"red",message:"Nenhum serviço selecionado!!!",timeout:3e3})}))}},mounted:function(){this.recebeDados(),1==this.somenteLeitura&&this.recebeDadosVisualizacao()}}),Ve=ze,Oe=(t("9a4e"),t("ddd8")),je=t("05c0"),Be=t("eaac"),Ee=t("db86"),Re=t("f09f"),Ge=t("a370"),He=Object(_["a"])(Ve,Le,$e,!1,null,"4691e928",null),Ue=He.exports;ie()(He,"components",{QSelect:Oe["a"],QBtn:K["a"],QTooltip:je["a"],QTable:Be["a"],QTd:Ee["a"],QCard:Re["a"],QCardSection:Ge["a"]});var We=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",[t("div",{directives:[{name:"show",rawName:"v-show",value:0==e.somenteLeitura,expression:"somenteLeitura == false"}],staticClass:"col-12 row items-center q-mb-xs"},[t("q-select",{staticClass:"col-md-8 col-xs-6 q-pr-sm",attrs:{disable:e.somenteLeitura,"option-value":"id","option-label":"nome",options:e.produtos,label:"Produto"},model:{value:e.produtoSelecionado,callback:function(o){e.produtoSelecionado=o},expression:"produtoSelecionado"}}),t("q-select",{staticClass:"col-md-3 col-xs-6 q-pr-xs",attrs:{disable:e.somenteLeitura,"option-value":"value","option-label":"label",options:e.quantidadeOpcoes,label:"Quantidade"},model:{value:e.quantidadeSelecionada,callback:function(o){e.quantidadeSelecionada=o},expression:"quantidadeSelecionada"}}),t("div",{staticClass:"col-md-1 col-xs-12 q-mt-xs botaoAdicionar"},[t("q-btn",{attrs:{disable:e.somenteLeitura,color:"primary",icon:"add"},on:{click:e.adicionaServico}},[t("q-tooltip",{attrs:{anchor:"center left",self:"center right"}},[e._v("Adicionar Serviço")])],1)],1)],1),t("q-table",{attrs:{title:"Produtos",color:"black","row-key":"id","card-style":"border-radius: 10px",dense:"","rows-per-page-options":e.maximoLinhas,data:e.dados,columns:e.colunas},scopedSlots:e._u([{key:"top-right",fn:function(){return[t("q-btn",{directives:[{name:"show",rawName:"v-show",value:0==e.somenteLeitura,expression:"somenteLeitura == false"}],attrs:{round:"",size:"10px",color:"teal",icon:"cleaning_services"},on:{click:function(o){return e.dados.pop()}}},[t("q-tooltip",{attrs:{anchor:"bottom middle",self:"top middle",offset:[18,18],"content-style":"font-size: 14px"}},[e._v("Limpar dados da tabela")])],1)]},proxy:!0},{key:"body-cell-descricao",fn:function(o){return[t("q-td",{key:"descricao",attrs:{props:o}},[e._v(e._s(o.row.descricao))])]}},{key:"body-cell-quantidade",fn:function(o){return[t("q-td",{key:"quantidade",attrs:{props:o}},[e._v(e._s(o.row.quantidade))])]}},{key:"body-cell-valor",fn:function(o){return[t("q-td",{key:"valor",attrs:{props:o}},[e._v("R$ "+e._s(o.row.valor.toFixed(2)))])]}},{key:"body-cell-total",fn:function(o){return[t("q-td",{key:"total",attrs:{props:o}},[e._v("R$ "+e._s(o.row.total.toFixed(2)))])]}}])}),t("div",{directives:[{name:"show",rawName:"v-show",value:1==e.somenteLeitura,expression:"somenteLeitura == true"}],staticClass:"q-mt-xs row justify-end"},[t("q-card",{staticClass:"shadow-15",staticStyle:{width:"200px"}},[t("q-card-section",{staticStyle:{"text-align":"end",height:"65px"}},[t("strong",[e._v("TOTAL GERAL do Produto:")]),t("div",{staticClass:"q-mb-xs",staticStyle:{"font-size":"20px"}},[e._v("R$ "+e._s(e.valorTotal.toFixed(2)))])])],1)],1)],1)},Ye=[],Ke={name:"ItemAtendimento",props:{AtendimentoId:Number,ModoLeitura:Boolean,DadosTabela:Array},data:function(){return{atendimentoID:this.AtendimentoId,somenteLeitura:this.ModoLeitura,dadosTabelaVisualizacao:this.DadosTabela,quantidadeSelecionada:"",quantidadeOpcoes:[{value:1,label:1},{value:2,label:2},{value:3,label:3},{value:4,label:4},{value:5,label:5},{value:6,label:6},{value:7,label:7},{value:8,label:8},{value:9,label:9},{value:10,label:10},{value:11,label:11},{value:12,label:12}],valorTotal:0,maximoLinhas:[4],itemAtendimento:[],produtoSelecionado:[],produtos:[],dados:[],colunas:[{name:"id",align:"right",label:"Id",field:"id",sortable:!0},{name:"descricao",align:"left",label:"Descrição",sortable:!0},{name:"quantidade",align:"right",label:"Quantidade",sortable:!0},{name:"valor",align:"right",label:"Valor Unitário",sortable:!0},{name:"total",align:"right",label:"Total",sortable:!0}]}},methods:{recebeDados:function(){var e=this;w("v1/produto").then((function(o){e.produtos=o.data})).catch((function(e){console.log(e)}))},limpaDados:function(){this.produtoSelecionado=[],this.dados=[],this.itemAtendimento=[]},confirmacao:function(){var e=this;return new Promise((function(o,t){e.$q.dialog({dark:!0,title:"Tem certeza que inserir esses itens ?",cancel:"Sair",persistent:!0}).onOk((function(){o()}))}))},adicionaServico:function(){if(null==this.produtoSelecionado||""==this.produtoSelecionado)this.$q.notify({type:"negative",message:"Por favor, selecione um serviço",timeout:2e3});else if(""==this.quantidadeSelecionada||null==this.quantidadeSelecionada)this.$q.notify({type:"negative",message:"Por favor, insira a quantidade",timeout:2e3});else{var e=this.quantidadeSelecionada,o=Object();o=this.produtoSelecionado;var t=Object();t=this.dados;var a=Object();a.id=o.id,a.descricao=o.nome,a.quantidade=e.value,a.valor=o.valor,a.total=parseFloat(o.valor)*parseInt(e.value);var i=Object();i.AtendimentoId=this.atendimentoID,i.Descricao=o.nome,i.Quantidade=e.value,i.TipoItem="P",i.ValorUnitario=o.valor,i.ValorTotal=o.valor*parseInt(e.value),t.find((function(e){return e.id==a.id}))?(this.$q.notify({type:"negative",message:"Serviço já adicionado, neste caso, modifique a quantidade",timeout:2e3}),this.produtoSelecionado=[],this.quantidadeSelecionada=null):(this.dados.push(a),this.itemAtendimento.push(i),this.produtoSelecionado=[],this.quantidadeSelecionada=null)}},limparProdutos:function(){this.dados=[],this.salvarItemAtendimento=[]},recebeDadosVisualizacao:function(){var e=this;w("v1/itematendimento/atendimentoproduto/"+this.atendimentoID).then((function(o){for(var t={},a=0;a<o.data.length;a++)t.id=o.data[a].id,t.descricao=o.data[a].descricao,t.quantidade=o.data[a].quantidade,t.valor=o.data[a].valorUnitario,t.total=o.data[a].valorTotal,e.valorTotal+=t.total,e.dados.push(t),t={}})).catch((function(e){return console.log(e)}))},salvarProdutos:function(){var e=this;this.dados.length>0&&(this.$q.notify({color:"primary",message:"Carregando...",timeout:2e3}),setTimeout((function(){for(var o=e.itemAtendimento,t=0;t<o.length;t++)C("v1/itematendimento",o[t]).then((function(o){1==o.data.status?(e.$q.notify({color:"green",message:o.data.msg,timeout:2e3}),e.limpaDados()):e.$q.notify({color:"red",message:o.data.msg,timeout:2e3})})).catch((function(o){e.$q.notify({type:"negative",message:"Erro ao inserir item, tente novamente mais tarde",timeout:2e3}),console.log(o.message)}))}),1e3))}},mounted:function(){this.recebeDados(),1==this.somenteLeitura&&this.recebeDadosVisualizacao()}},Xe=Ke,Je=(t("f71f"),Object(_["a"])(Xe,We,Ye,!1,null,"9772e130",null)),Ze=Je.exports;ie()(Je,"components",{QSelect:Oe["a"],QBtn:K["a"],QTooltip:je["a"],QTable:Be["a"],QTd:Ee["a"],QCard:Re["a"],QCardSection:Ge["a"]});var eo=function(){var e=this,o=e.$createElement,a=e._self._c||o;return a("q-dialog",{attrs:{persistent:""},model:{value:e.exibeModal,callback:function(o){e.exibeModal=o},expression:"exibeModal"}},[a("q-layout",{staticClass:"bg-dark layout",attrs:{view:"Lhh lpR fff",container:""}},[a("q-header",{staticClass:"row bg-primary col-12",staticStyle:{padding:"5px"}},[a("q-img",{staticStyle:{width:"35px"},attrs:{src:t("15a4"),alt:"Bigode"}}),a("q-toolbar-title",{staticClass:"q-mt-xs",staticStyle:{"font-size":"1.2rem","font-family":"cursive"}},[e._v(e._s(e.tituloModal))]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",dense:"",icon:"close",align:"right"}})],1),a("q-page-container",[a("q-page",{attrs:{padding:""}},[a("div",{staticClass:"col-12 row q-mb-sm",staticStyle:{padding:"0px"}},[a("div",{staticClass:"col-12",staticStyle:{"padding-right":"5px"}},[a("q-input",{staticClass:"inputSelect",attrs:{error:e.erroCampoNome,outlined:"",label:"Nome do Cliente","bg-color":"white"},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"person",color:"brown"}})]},proxy:!0}]),model:{value:e.nomeCliente,callback:function(o){e.nomeCliente=o},expression:"nomeCliente"}})],1),a("div",{staticClass:"col-12",staticStyle:{"padding-right":"5px"}},[a("q-input",{staticClass:"inputSelect",attrs:{mask:"(##)# ####-####",error:e.erroCampoTelefone,outlined:"",label:"Telefone / Celular","bg-color":"white"},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"tty",color:"brown"}})]},proxy:!0}]),model:{value:e.telefoneCliente,callback:function(o){e.telefoneCliente=o},expression:"telefoneCliente"}})],1)]),a("div",{staticClass:"row justify-center q-mb-md"},[a("q-btn",{staticStyle:{"border-radius":"5px"},attrs:{icon:"save",label:"Salvar",color:"green"},on:{click:e.inserirNovoCliente}}),a("q-btn",{staticClass:"q-ml-sm",staticStyle:{"border-radius":"5px"},attrs:{icon:"close",label:"Fechar",color:"red"},on:{click:e.fecharModal}})],1)])],1)],1)],1)},oo=[],to=function e(){L()(this,e),z()(this,"Nome",""),z()(this,"TelefoneCelular","")},ao={name:"ItemCliente",data:function(){return{exibeModal:!1,erroCampoNome:!1,erroCampoTelefone:!1,tituloModal:"",nomeCliente:"",telefoneCliente:""}},methods:{confirmacao:function(e){var o=this;return new Promise((function(t,a){o.$q.dialog({dark:!0,title:e,cancel:"Sair",persistent:!0}).onOk((function(){t()}))}))},exibeModalCliente:function(e){this.exibeModal=!this.exibeModal,this.tituloModal=e},fecharModal:function(){this.exibeModal=!this.exibeModal,this.limparCampos()},limparCampos:function(){this.nomeCliente=null,this.telefoneCliente=null},validaCampos:function(){var e=this;return new Promise((function(o,t){var a=!1;""==e.nomeCliente||null==e.nomeCliente?(e.erroCampoNome=!0,a=!0):a=!1,""==e.telefoneCliente||null==e.telefoneCliente?(e.erroCampoTelefone=!0,a=!0):a=!1,0==a&&o(!0)}))},inserirNovoCliente:function(){var e=this;this.validaCampos().then((function(){e.confirmacao("Desejar cadastrar o novo cliente ?").then((function(){e.$q.notify({message:"Incluindo...",color:"primary",timeout:1e3}),setTimeout((function(){var o=new to;o.Nome=e.nomeCliente,o.TelefoneCelular=e.telefoneCliente,C("v1/cliente",o).then((function(o){1==o.data.status?(e.$q.notify({message:o.data.msg,color:"green",timeout:1e3}),e.fecharModal(),e.$emit("atualizaCampo")):e.$q.notify({message:o.data.msg,color:"red",timeout:2e3})})).catch((function(o){console.log(o),e.$q.notify({message:"Não foi possível fazer a inclusão, tente novamente mais tarde",color:"primary",timeout:3e3})}))}),1e3)}))}))}}},io=ao,ro=(t("229e"),Object(_["a"])(io,eo,oo,!1,null,"0aa777fb",null)),no=ro.exports;ie()(ro,"components",{QDialog:H["a"],QLayout:U["a"],QHeader:W["a"],QImg:ce["a"],QToolbarTitle:Y["a"],QBtn:K["a"],QPageContainer:X["a"],QPage:J["a"],QInput:Z["a"],QIcon:ee["a"]}),ie()(ro,"directives",{ClosePopup:te["a"]});var so=function(){var e=this,o=e.$createElement,a=e._self._c||o;return a("q-dialog",{attrs:{persistent:""},model:{value:e.exibeModal,callback:function(o){e.exibeModal=o},expression:"exibeModal"}},[a("q-layout",{staticClass:"bg-dark layout",attrs:{view:"Lhh lpR fff",container:""}},[a("q-header",{staticClass:"row bg-primary col-12",staticStyle:{padding:"5px"}},[a("q-img",{staticStyle:{width:"35px"},attrs:{src:t("15a4"),alt:"Bigode"}}),a("q-toolbar-title",{staticClass:"q-mt-xs",staticStyle:{"font-size":"1.2rem","font-family":"cursive"}},[e._v(e._s(e.tituloModal))]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",dense:"",icon:"close",align:"right"}})],1),a("q-page-container",[a("q-page",{staticStyle:{padding:"10px"}},[a("div",{staticClass:"col-12"},[a("div",{staticClass:"componentsMobile col-xs-12",staticStyle:{"padding-right":"5px"}},[a("q-input",{staticClass:"inputSelect",attrs:{error:e.erroCampoNome,outlined:"",label:"Nome do Profissional","bg-color":"white"},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"person",color:"brown"}})]},proxy:!0}]),model:{value:e.nomeProfissional,callback:function(o){e.nomeProfissional=o},expression:"nomeProfissional"}})],1),a("div",{staticClass:"componentsMobile col-xs-12",staticStyle:{"padding-right":"5px"}},[a("q-input",{staticClass:"inputSelect",attrs:{mask:"(##)# ####-####",error:e.erroCampoTelefone,outlined:"",label:"Telefone / Celular","bg-color":"white"},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"tty",color:"brown"}})]},proxy:!0}]),model:{value:e.telefoneProfissional,callback:function(o){e.telefoneProfissional=o},expression:"telefoneProfissional"}})],1),a("q-input",{staticClass:" col-xs-12",staticStyle:{"padding-right":"5px"},attrs:{error:e.erroCampoData,"bg-color":"white",filled:"",label:"Data de Nascimento",mask:"##/##/####"},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"calendar_today",color:"brown"}})]},proxy:!0},{key:"append",fn:function(){return[a("q-icon",{attrs:{name:"event"}},[a("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[a("q-date",{attrs:{subtitle:"Data de",title:"Nascimento",dark:"",mask:"DD-MM-YYYY"},model:{value:e.dataNascimentoProfissional,callback:function(o){e.dataNascimentoProfissional=o},expression:"dataNascimentoProfissional"}},[a("div",{staticClass:"row items-center"},[a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"fechar",color:"red"}})],1)])],1)],1)]},proxy:!0}]),model:{value:e.dataNascimentoProfissional,callback:function(o){e.dataNascimentoProfissional=o},expression:"dataNascimentoProfissional"}}),a("div",{staticClass:"componentsMobile col-xs-12",staticStyle:{"padding-right":"5px"}},[a("q-input",{staticClass:"inputSelect",attrs:{mask:"###.###.###-##",error:e.erroCampoCPF,outlined:"",label:"CPF","bg-color":"white"},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"fingerprint",color:"brown"}})]},proxy:!0}]),model:{value:e.cpfProfissional,callback:function(o){e.cpfProfissional=o},expression:"cpfProfissional"}})],1),a("div",{staticClass:"componentsMobile col-xs-12",staticStyle:{"padding-right":"5px"}},[a("q-input",{staticClass:"inputSelect",attrs:{mask:"#.##","reverse-fill-mask":"",error:e.erroCampoPorcentagem,outlined:"",label:"Porcentagem","bg-color":"white"},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"money",color:"brown"}})]},proxy:!0}]),model:{value:e.porcentagem,callback:function(o){e.porcentagem=o},expression:"porcentagem"}})],1),a("div",{staticClass:"row col-12 items-center justify-center",staticStyle:{"padding-right":"5px"}},[a("label",{staticClass:"text-white"},[e._v("Porcentagem por Produto ?")]),a("q-checkbox",{attrs:{dark:""},model:{value:e.recebePorcentagemProduto,callback:function(o){e.recebePorcentagemProduto=o},expression:"recebePorcentagemProduto"}}),a("q-input",{directives:[{name:"show",rawName:"v-show",value:1==e.recebePorcentagemProduto,expression:"recebePorcentagemProduto == true"}],staticClass:"col-md-7 col-xs-12",attrs:{"reverse-fill-mask":"",error:e.erroPorcentagemProduto,color:"dark","label-color":"dark","bg-color":"white",filled:"",mask:"#.##",suffix:"%",prefix:"%",label:"Porcentagem do Produto"},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"money",color:"brown"}})]},proxy:!0}]),model:{value:e.porcentagemProduto,callback:function(o){e.porcentagemProduto=e._n(o)},expression:"porcentagemProduto"}})],1),a("div",{staticClass:"row justify-center",staticStyle:{padding:"10px"}},[a("q-btn",{staticStyle:{"border-radius":"5px"},attrs:{icon:"close",label:"Fechar",color:"red"},on:{click:e.fecharModal}}),a("q-btn",{staticClass:"q-ml-sm",staticStyle:{"border-radius":"5px"},attrs:{icon:"save",label:"Salvar",color:"green"},on:{click:e.insereNovoProfissional}})],1)],1)])],1)],1)],1)},lo=[],co=function e(){L()(this,e),z()(this,"Nome",""),z()(this,"DataNascimento",""),z()(this,"CPF",""),z()(this,"TelefoneCelular",""),z()(this,"Porcentagem",""),z()(this,"GeraPorcentagemProduto",""),z()(this,"PorcentagemProduto","")},uo=function e(){L()(this,e),z()(this,"Id",""),z()(this,"Nome",""),z()(this,"DataNascimento",""),z()(this,"CPF",""),z()(this,"TelefoneCelular",""),z()(this,"Porcentagem",""),z()(this,"GeraPorcentagemProduto",""),z()(this,"PorcentagemProduto","")},mo={name:"ItemProfissional",data:function(){return{exibeModal:!1,erroCampoNome:!1,erroCampoTelefone:!1,erroCampoData:!1,erroCampoCPF:!1,erroCampoPorcentagem:!1,erroPorcentagemProduto:!1,recebePorcentagemProduto:!1,porcentagemProduto:"",porcentagem:"",tituloModal:"",nomeProfissional:"",telefoneProfissional:"",dataNascimentoProfissional:"",cpfProfissional:""}},methods:{confirmacao:function(e){var o=this;return new Promise((function(t,a){o.$q.dialog({dark:!0,title:e,cancel:"Sair",persistent:!0}).onOk((function(){t()}))}))},exibeModalProfissional:function(e){this.exibeModal=!this.exibeModal,this.tituloModal=e},fecharModal:function(){this.exibeModal=!this.exibeModal,this.limparCampos()},limparCampos:function(){this.nomeProfissional=null,this.telefoneProfissional=null,this.cpfProfissional=null,this.dataNascimentoProfissional=null,this.porcentagem=null},validaCampos:function(){var e=this;return new Promise((function(o,t){var a=!1;""==e.nomeProfissional||null==e.nomeProfissional?(e.erroCampoNome=!0,a=!0):a=!1,""==e.telefoneProfissional||null==e.telefoneProfissional?(e.erroCampoTelefone=!0,a=!0):a=!1,""==e.cpfProfissional||null==e.cpfProfissional?(e.erroCampoCPF=!0,a=!0):a=!1,""==e.dataNascimentoProfissional||null==e.dataNascimentoProfissional?(e.erroCampoData=!0,a=!0):a=!1,1==e.recebePorcentagemProduto&&(""===e.porcentagemProduto||null===e.porcentagemProduto?(e.erroPorcentagemProduto=!0,a=!0):(e.erroPorcentagemProduto=!1,a=!1)),0==a&&o(!0)}))},insereNovoProfissional:function(){var e=this;this.validaCampos().then((function(){e.confirmacao("Tem certeza que deseja incluir este Profissional ?").then((function(){e.$q.notify({message:"Incluindo...",color:"primary",timeout:1e3}),setTimeout((function(){var o=new co;o.Nome=e.nomeProfissional.toUpperCase(),o.DataNascimento=e.dataNascimentoProfissional,o.CPF=e.cpfProfissional,o.TelefoneCelular=e.telefoneProfissional,o.Porcentagem=parseInt(e.porcentagem),1==e.recebePorcentagemProduto?(o.GeraPorcentagemProduto="S",o.PorcentagemProduto=parseInt(e.porcentagemProduto)):(o.GeraPorcentagemProduto="N",o.PorcentagemProduto=0),C("v1/profissional",o).then((function(o){1==o.data.status?(e.$q.notify({message:o.data.msg,color:"green",timeout:2e3}),e.fecharModal(),e.$emit("atualizaCampo")):e.$q.notify({message:o.data.msg,color:"red",timeout:2e3})})).catch((function(o){e.$q.notify({message:"Não foi possível fazer a inclusão, tente novamente mais tarde",color:"red",timeout:2e3})}))}),1e3)}))}))}}},fo=mo,po=(t("8aa2"),t("7cbe")),ho=t("52ee"),bo=t("8f8e"),go=Object(_["a"])(fo,so,lo,!1,null,null,null),vo=go.exports;ie()(go,"components",{QDialog:H["a"],QLayout:U["a"],QHeader:W["a"],QImg:ce["a"],QToolbarTitle:Y["a"],QBtn:K["a"],QPageContainer:X["a"],QPage:J["a"],QInput:Z["a"],QIcon:ee["a"],QPopupProxy:po["a"],QDate:ho["a"],QCheckbox:bo["a"]}),ie()(go,"directives",{ClosePopup:te["a"]});var xo=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",[t("div",{directives:[{name:"show",rawName:"v-show",value:1==e.isVisible,expression:"isVisible == true"}]},[t("hr",{staticClass:"q-mt-sm col-12 linhaFormaPagamento"}),t("div",{directives:[{name:"show",rawName:"v-show",value:0==e.somenteLeitura,expression:"somenteLeitura == false"}],staticClass:"col-12 row items-center q-mb-xs"},[t("q-select",{staticClass:"col-md-8 col-xs-8 q-pr-sm",attrs:{disable:e.somenteLeitura,"option-value":"id","option-label":"descricao",options:e.formasDePagamentos,label:"Forma de Pagamento"},model:{value:e.formaPagamentoSelecionado,callback:function(o){e.formaPagamentoSelecionado=o},expression:"formaPagamentoSelecionado"}}),t("q-input",{staticClass:"col-md-3 col-xs-4 q-pr-xs",attrs:{mask:"#.##","reverse-fill-mask":"",prefix:"R$",disable:e.somenteLeitura,label:"Valor R$"},model:{value:e.valorPagamento,callback:function(o){e.valorPagamento=o},expression:"valorPagamento"}}),t("div",{staticClass:"col-md-1 col-xs-12 q-mt-xs botaoAdicionar"},[t("q-btn",{attrs:{disable:e.somenteLeitura,color:"primary",icon:"add"},on:{click:e.adicionaFormaDePagamento}},[t("q-tooltip",{attrs:{anchor:"center left",self:"center right"}},[e._v("Adicionar Pagamento")])],1)],1)],1),t("q-table",{attrs:{dense:"",data:e.dados,columns:e.colunas,"rows-per-page-options":e.maximoLinhas,title:"Forma de Pagamento"},scopedSlots:e._u([{key:"top-right",fn:function(){return[t("q-btn",{directives:[{name:"show",rawName:"v-show",value:0==e.somenteLeitura,expression:"somenteLeitura == false"}],attrs:{round:"",size:"10px",color:"teal",icon:"cleaning_services"},on:{click:e.limpaCamposTabela}},[t("q-tooltip",{attrs:{anchor:"bottom middle",self:"top middle",offset:[18,18],"content-style":"font-size: 14px"}},[e._v("Limpar dados da tabela")])],1)]},proxy:!0},{key:"body-cell-descricao",fn:function(o){return[t("q-td",{key:"descricao",attrs:{props:o}},[e._v(e._s(o.row.descricao))])]}},{key:"body-cell-titulo",fn:function(o){return[t("q-td",{key:"titulo",attrs:{props:o}},[e._v(e._s(o.row.titulo))])]}},{key:"body-cell-valor",fn:function(o){return[t("q-td",{key:"valor",attrs:{props:o}},[e._v("R$ "+e._s(o.row.valor.toFixed(2)))])]}},{key:"bottom",fn:function(){return[t("div",{directives:[{name:"show",rawName:"v-show",value:0==e.somenteLeitura,expression:"somenteLeitura == false"}],staticClass:"col-12 q-mt-sm row justify-end",staticStyle:{"font-size":"1rem"}},[t("strong",[e._v("Valor: R$ "+e._s(e.valorTotalFormaPagamento.toFixed(2)))])])]},proxy:!0}])}),t("div",{staticClass:"row col-xs-12 bg-white justify-end items-end q-mt-md",staticStyle:{padding:"5px"}},[t("q-icon",{staticClass:"q-mr-sm",attrs:{name:"monetization_on",color:"green",size:"30px"}}),t("div",{ref:"vlrTtotal",staticClass:"text-h6"},[t("strong",[e._v("Valor Total: ")]),e._v("R$ "+e._s(e.valorTotal.toFixed(2)))])],1)],1)])},qo=[],yo=(t("b680"),function e(){L()(this,e),z()(this,"AtendimentoId",""),z()(this,"Descricao",""),z()(this,"FormaPagamentoId",""),z()(this,"Valor","")}),Po={name:"Item-Forma_Pagamento",props:{AtendimentoId:Number,ModoLeitura:Boolean,IsVisible:Boolean,DadosTabela:Array},data:function(){return{atendimentoId:this.AtendimentoId,somenteLeitura:this.ModoLeitura,dadosTabelaVisualizacao:this.DadosTabela,isVisible:this.IsVisible,valorDescontoPagamento:"",valorPagamento:"",valorTotal:0,valorTotalFormaPagamento:0,maximoLinhas:[4],pagamento:[],formaPagamentoSelecionado:[],formasDePagamentos:[],dados:[],colunas:[{name:"id",align:"right",label:"Id",field:"id",sortable:!0},{name:"descricao",align:"left",label:"Descrição",sortable:!0},{name:"titulo",align:"left",label:"Título",sortable:!0},{name:"valor",align:"right",label:"Valor",sortable:!0}]}},methods:{recebeDadosTabela:function(){var e=this;w("v1/formapagamento").then((function(o){e.formasDePagamentos=o.data})).catch((function(e){console.log(e)}))},limpaCamposTabela:function(){this.dados=[],null!=this.valorTotalFormaPagamento&&(this.valorTotalFormaPagamento=0),this.limparCampos()},limparCampos:function(){this.dados=[],this.pagamento=[],this.valorPagamento=null,this.formaPagamentoSelecionado=[]},recebeDadosVisualizacao:function(){var e=this;w("v1/itemformapagamento/"+this.atendimentoId).then((function(o){for(var t={},a=0;a<o.data.length;a++)t.id=o.data[a].id,t.descricao=o.data[a].descricao,t.titulo=o.data[a].formaPagamento.titulo,t.valor=o.data[a].valor,e.dados.push(t),t={}})).catch((function(e){console.log(e)}))},adicionaFormaDePagamento:function(){if(null==this.formaPagamentoSelecionado||""==this.formaPagamentoSelecionado)this.$q.notify({type:"negative",message:"Por favor, Selecione uma forma de Pagamento",timeout:2e3});else if(""==this.valorPagamento||null==this.valorPagamento)this.$q.notify({type:"negative",message:"Por favor, insira o valor",timeout:2e3});else{var e=parseFloat(this.valorPagamento),o=Object();o=this.formaPagamentoSelecionado;var t=Object();t=this.dados;var a=Object();a.id=o.id,a.descricao=o.descricao,a.titulo=o.titulo,a.valor=parseFloat(e);var i=new yo;if(i.AtendimentoId=this.atendimentoId,i.Descricao=o.descricao,i.FormaPagamentoId=o.id,i.Valor=parseFloat(e),t.find((function(e){return e.id==a.id})))this.$q.notify({type:"negative",message:"Forma de Pagamento já incluido",timeout:2e3}),this.formaPagamentoSelecionado=[],this.valorPagamento=null,this.valorDescontoPagamento=null;else{var r=parseFloat(this.valorTotalFormaPagamento)+parseFloat(e);e>this.valorTotal?this.$q.notify({type:"negative",message:"O valor ultrapassa o Total, por favor, insira um valor correto!",timeout:3e3}):r>this.valorTotal?this.$q.notify({type:"negative",message:"Valor total excedido, por favor, insira um valor correto!",timeout:3e3}):(this.valorTotalFormaPagamento+=Number(parseFloat(e).toFixed(2)),this.dados.push(a),this.pagamento.push(i),this.formaPagamentoSelecionado=[],this.valorPagamento=null,this.valorDescontoPagamento=null)}}},salvarFormaPagamento:function(){var e=this;return new Promise((function(o,t){e.valorTotalFormaPagamento>0?e.valorTotalFormaPagamento>e.valorTotal?e.$q.dialog({dark:!0,title:"Atenção",message:"Valor ultrapassa o Total, por favor, insira o Valor correto",persistent:!0}):e.dados.length>0&&(e.$q.notify({color:"primary",message:"Carregando...",timeout:1e3}),setTimeout((function(){for(var a=e.pagamento,i=0;i<a.length;i++)C("v1/itemformapagamento",a[i]).then((function(t){1==t.data.status?(e.$q.notify({color:"green",message:t.data.msg,timeout:2e3}),e.limparCampos(),o(!0)):e.$q.notify({color:"red",message:t.data.msg,timeout:2e3})})).catch((function(o){e.$q.notify({type:"negative",message:"Erro ao inserir item, tente novamente mais tarde",timeout:2e3}),console.log(o.message),t(!1),console.log("RESOLVE - - - - - >"+t)}))}),1e3)):e.$q.notify({type:"negative",message:"Tabela vazia...",timeout:3e3})}))},recebeDadosValorTotal:function(){var e=this;null!=this.atendimentoId&&w("v1/itematendimento/atendimento/"+this.atendimentoId).then((function(o){e.valorTotal=0;for(var t={},a=o.data,i=0;i<a.length;i++)t.total=a[i].valorTotal,e.valorTotal+=t.total,t={}})).catch((function(e){return console.log(e)}))},confirmacao:function(){var e=this;return new Promise((function(o,t){e.$q.dialog({dark:!0,title:"Deseja incluir a forma de pagamento ?",cancel:"Sair",persistent:!0}).onOk((function(){o()}))}))}},created:function(){this.recebeDadosTabela(),this.recebeDadosValorTotal(),1==this.ModoLeitura&&this.recebeDadosVisualizacao()}},Co=Po,wo=(t("be82"),Object(_["a"])(Co,xo,qo,!1,null,null,null)),So=wo.exports;ie()(wo,"components",{QSelect:Oe["a"],QInput:Z["a"],QBtn:K["a"],QTooltip:je["a"],QTable:Be["a"],QTd:Ee["a"],QIcon:ee["a"]});var ko=function e(){L()(this,e),z()(this,"ClienteId",""),z()(this,"ProfissionalId","")},To={name:"ModalOrdemServico",components:{ItemServico:Ue,ItemProduto:Ze,ItemCliente:no,ItemProfissional:vo,ItemFormaPagamento:So},data:function(){return{dadosOS:[],fullHeight:!1,exibeModal:!1,isVisibleFormaPagamento:!1,somenteLeituraFormaPagamento:!1,somenteLeitura:!1,modalInsereFormaPagamento:!1,modalInsereItens:!1,modalInclusao:!1,modalAlteracao:!1,modalVisualizacao:!1,dadosTabelaVisualizacaoItens:[],idOrdemServico:0,clientes:[],profissionais:[],profissionalSelect:[],clienteSelect:[],estiloLayout:"",stilo:"",clienteSelecionado:"",profissionalSelecionado:"",tituloModal:""}},methods:{filtraProfissional:function(e,o){var t=this;o(""!==e?function(){var o=e.toLowerCase();t.profissionalSelect=t.profissionais.filter((function(e){return e.nome.toLowerCase().indexOf(o)>-1}))}:function(){t.profissionalSelect=t.profissionais})},filtraCliente:function(e,o){var t=this;o(""!==e?function(){var o=e.toLowerCase();t.clienteSelect=t.clientes.filter((function(e){return e.nome.toLowerCase().indexOf(o)>-1}))}:function(){t.clienteSelect=t.clientes})},fechaModal:function(){this.exibeModal=!this.exibeModal,this.limpaCamposModal()},limpaCamposModal:function(){this.idOrdemServico=null,this.clienteSelecionado=null,this.profissionalSelecionado=null},exibirModalInclusao:function(e){this.estiloLayout="bg-brown modalInclusao",this.fullHeight=!1,this.exibeModal=!this.exibeModal,this.tituloModal=e,this.modalInclusao=!0,this.modalInsereFormaPagamento=!1,this.somenteLeitura=!1,this.modalAlteracao=!1,this.modalExclusao=!1,this.modalReativacao=!1,this.recebeDadosTabela()},exibirModalVisualizacao:function(e,o){this.estiloLayout="bg-brown",this.fullHeight=!0,this.exibeModal=!this.exibeModal,this.somenteLeitura=!0,this.modalVisualizacao=!0,this.isVisibleFormaPagamento=!0,this.somenteLeituraFormaPagamento=!0,this.modalInsereFormaPagamento=!1,this.modalAlteracao=!1,this.modalInclusao=!1,this.modalExclusao=!1,this.modalReativacao=!1,this.tituloModal=e,this.idOrdemServico=o.id,this.profissionalSelecionado=o.profissional.nome,this.clienteSelecionado=o.cliente.nome+" - "+o.cliente.telefoneCelular},exibirModalInsereFormaPagamento:function(e,o){this.estiloLayout="bg-brown",this.fullHeight=!0,this.exibeModal=!this.exibeModal,this.somenteLeitura=!0,this.modalVisualizacao=!0,this.isVisibleFormaPagamento=!0,this.modalInsereFormaPagamento=!0,this.somenteLeituraFormaPagamento=!1,this.modalAlteracao=!1,this.modalInclusao=!1,this.modalExclusao=!1,this.modalReativacao=!1,this.tituloModal=e,this.idOrdemServico=o.id,this.profissionalSelecionado=o.profissional.nome,this.clienteSelecionado=o.cliente.nome+" - "+o.cliente.telefoneCelular},exibirModalInsereItens:function(e,o){this.estiloLayout="bg-brown",this.fullHeight=!0,this.exibeModal=!this.exibeModal,this.modalInsereItens=!0,this.isVisibleFormaPagamento=!1,this.modalInsereFormaPagamento=!1,this.somenteLeitura=!1,this.modalAlteracao=!1,this.modalInclusao=!1,this.modalExclusao=!1,this.modalReativacao=!1,this.dadosOS=o,this.tituloModal=e,this.idOrdemServico=o.id,this.profissionalSelecionado=o.profissional.nome,this.clienteSelecionado=o.cliente.nome+" - "+o.cliente.telefoneCelular},salvarItensTabela:function(){var e=this;this.confirmacao().then((function(){e.$refs.itemProdutoAtendimento.salvarProdutos(),e.$refs.itemServicoAtendimento.salvarServicos().then((function(){e.$emit("atualizaGradeEmAberto")}))}))},salvarFormaPagamentoTabela:function(){var e=this;this.confirmacao().then((function(){e.$refs.itemFormaPagamento.salvarFormaPagamento().then((function(){y("v1/atendimento/finaliza/"+e.idOrdemServico).then((function(o){1==o.data.status&&e.$q.notify({color:"accent",message:"O atendimento foi finalizado com sucesso",timeout:3e3}),e.fechaModal(),e.$emit("atualizaGradeFinanceiro")})).catch((function(o){e.$q.notify({type:"positive",message:"Erro ao finalizar atendimento, favor verificar mais tarde...",timeout:3e3})}))}))}))},confirmacao:function(){var e=this;return new Promise((function(o,t){e.$q.dialog({dark:!0,title:"Tem certeza que deseja fazer essa operação ?",cancel:"Sair",persistent:!0}).onOk((function(){o()}))}))},desativaAtendimento:function(){var e=this;this.confirmacao().then((function(){e.$q.notify({color:"primary",message:"Carregando...",timeout:2e3}),setTimeout((function(){var o=e.idOrdemServico;S("v1/atendimento/"+o).then((function(o){o.data.status&&(e.$q.notify({message:o.data.msg,color:"green",timeout:3e3}),e.$emit("atualizaGrade"),e.limpaCamposModal(),e.fechaModal())})).catch((function(e){console.log(e)}))}),2e3)}))},adicionarNovoAtendimento:function(){var e=this,o=new ko;o.ClienteId=this.clienteSelecionado.id,o.ProfissionalId=this.profissionalSelecionado.id,this.$q.notify({color:"primary",message:"Carregando...",timeout:2e3}),setTimeout((function(){C("v1/atendimento",o).then((function(o){o.data.status&&(e.$q.notify({message:o.data.msg,color:"green",timeout:3e3}),e.$emit("atualizaGrade"),e.limpaCamposModal(),e.fechaModal())})).catch((function(o){console.log(o),e.$q.notify({type:"negative",message:"Erro ao cadastrar, tente novamente...",timeout:3e3})}),3e3)}))},recebeDadosTabela:function(){var e=this;w("v1/profissional").then((function(o){e.profissionais=o.data})).catch((function(e){console.log(e)})),w("v1/cliente").then((function(o){e.clientes=o.data})).catch((function(e){console.log(e)})),w("v1/formapagamento").then((function(o){e.formaPagamento=o.data})).catch((function(e){console.log(e)}))},exibirModalCliente:function(){this.$refs.itemCliente.exibeModalCliente("Incluir Cliente")},exibirModalProfissional:function(){this.$refs.itemProfissional.exibeModalProfissional("Incluir Profissional")}},beforeMount:function(){this.recebeDadosTabela()}},Mo=To,_o=(t("3348"),t("66e5")),Do=t("4074"),Io=Object(_["a"])(Mo,Fe,Ne,!1,null,"58ea64f6",null),Qo=Io.exports;ie()(Io,"components",{QDialog:H["a"],QLayout:U["a"],QHeader:W["a"],QImg:ce["a"],QToolbarTitle:Y["a"],QBtn:K["a"],QPageContainer:X["a"],QTooltip:je["a"],QSelect:Oe["a"],QItem:_o["a"],QItemSection:Do["a"],QIcon:ee["a"],QFooter:oe["a"]}),ie()(Io,"directives",{ClosePopup:te["a"]});var Ao=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("q-dialog",{attrs:{persistent:"","full-height":""},model:{value:e.exibeModal,callback:function(o){e.exibeModal=o},expression:"exibeModal"}},[t("q-layout",{staticClass:"bg-brown",attrs:{view:"Lhh lpR fff",container:""}},[t("q-header",{staticClass:"bg-dark row col-12",staticStyle:{padding:"5px"}},[t("q-toolbar-title",{staticClass:"col-12"},[e._v("Produtos")]),t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",dense:"",icon:"close",align:"right"}})],1),t("q-page-container",[t("q-page",{staticStyle:{padding:"10px"}},[t("div",{staticClass:"row"},[t("q-input",{staticClass:"col-md-5 col-xs-12",attrs:{error:e.erroCampoNome,"error-message":e.erroMsgNome,color:"dark","label-color":"dark","bg-color":"white",filled:"",label:"Nome do Produto"},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"store",color:"brown"}})]},proxy:!0}]),model:{value:e.nomeProduto,callback:function(o){e.nomeProduto=o},expression:"nomeProduto"}}),t("q-space"),t("q-input",{staticClass:"col-md-5 col-xs-12",attrs:{mask:"#.##",prefix:"R$","reverse-fill-mask":"",error:e.erroCampoValor,"error-message":e.erroMsgValor,color:"dark","label-color":"dark","bg-color":"white",filled:"",label:"Valor do Produto"},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"attach_money",color:"brown"}})]},proxy:!0}]),model:{value:e.valorProduto,callback:function(o){e.valorProduto=o},expression:"valorProduto"}}),t("q-space"),t("div",{staticClass:"row justify-center botaoAdicionar col-md-1 col-xs-12"},[t("q-btn",{staticClass:"tamanhoBotao",attrs:{disable:e.desabilitarBotao,color:"green",icon:"add"},on:{click:e.insereNovoProduto}})],1)],1),t("q-table",{staticClass:"tabela",attrs:{dense:"",title:"Lista",separator:"cell",loading:e.carregando,"rows-per-page-options":e.totalLinhasTabela,filter:e.filtroTabela,data:e.dados,columns:e.colunas},scopedSlots:e._u([{key:"no-data",fn:function(o){var a=o.icon,i=o.message,r=o.filter;return[t("div",{staticClass:"full-width row flex-center text-red-8 q-gutter-sm",staticStyle:{"font-size":"1rem"}},[t("span",[e._v(e._s(i))]),t("q-icon",{attrs:{size:"2em",name:r?"filter_b_and_w":a}})],1)]}},{key:"top-left",fn:function(){return[t("div",{staticClass:"row items-center"},[t("q-btn",{attrs:{size:"12px",color:"green",icon:"update",round:""},on:{click:e.recebeDadosProdutos}},[t("q-tooltip",{attrs:{anchor:"bottom middle",self:"top middle",offset:[18,18],"content-style":"font-size: 14px"}},[e._v("Atualizar Tabela")])],1),t("div",{staticClass:"q-ml-md",staticStyle:{"font-size":"1.3rem"}},[e._v("Lista")])],1)]},proxy:!0},{key:"top-right",fn:function(){return[t("q-input",{staticClass:"buscarProduto",attrs:{dense:"",placeholder:"Buscar produto..."},scopedSlots:e._u([{key:"append",fn:function(){return[t("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filtroTabela,callback:function(o){e.filtroTabela=o},expression:"filtroTabela"}})]},proxy:!0},{key:"body-cell-dataInclusao",fn:function(o){return[t("q-td",{key:"dataInclusao",attrs:{props:o}},[e._v(e._s(new Date(o.row.createdAt).toLocaleDateString("pt-BR")))])]}},{key:"body-cell-valor",fn:function(o){return[t("q-td",{key:"valor",attrs:{props:o}},[e._v("R$ "+e._s(o.row.valor.toFixed(2)))])]}},{key:"body-cell-acoes",fn:function(o){return[t("q-td",{key:"acoes",attrs:{props:o}},[t("q-btn-dropdown",{attrs:{color:"brown","dropdown-icon":"build",align:"center"}},[t("q-list",[t("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){return e.deletaProduto(o.row.id)}}},[t("q-item-section",{attrs:{avatar:""}},[t("q-avatar",{attrs:{icon:"delete",color:"red","text-color":"white"}})],1),t("q-item-section",[t("q-item-label",[e._v("Deletar")])],1),t("q-item-section",{attrs:{side:""}},[t("q-icon",{attrs:{name:"clear",color:"red"}})],1)],1),t("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){return e.abrirModalDadosAlteracao(o.row)}}},[t("q-item-section",{attrs:{avatar:""}},[t("q-avatar",{attrs:{icon:"create",color:"secondary","text-color":"white"}})],1),t("q-item-section",[t("q-item-label",[e._v("Editar")])],1),t("q-item-section",{attrs:{side:""}},[t("q-icon",{attrs:{name:"border_color",color:"secondary"}})],1)],1)],1)],1)],1)]}}])}),t("div",{staticClass:"botaoFechar"},[t("q-btn",{attrs:{color:"red",icon:"close",label:"Fechar"},on:{click:e.fechaModal}})],1)],1)],1),t("DadosProduto",{ref:"dadosProduto",on:{atualizaTabela:e.recebeDadosProdutos}})],1)],1)},Fo=[],No=function e(){L()(this,e),z()(this,"Nome",""),z()(this,"Valor","")},Lo=function(){var e=this,o=e.$createElement,a=e._self._c||o;return a("q-dialog",{attrs:{persistent:""},model:{value:e.exibeModal,callback:function(o){e.exibeModal=o},expression:"exibeModal"}},[a("q-layout",{staticClass:"modal bg-brown",attrs:{view:"Lhh lpR fff",container:""}},[a("q-header",{staticClass:"row bg-dark",staticStyle:{padding:"5px"}},[a("q-img",{staticStyle:{width:"35px"},attrs:{src:t("15a4"),alt:"Bigode"}}),a("q-toolbar-title",{staticClass:"q-mt-xs",staticStyle:{"font-size":"1.2rem","font-family":"cursive"}},[e._v(e._s(e.tituloModal))]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",dense:"",icon:"close",align:"right"}})],1),a("q-page-container",{staticClass:"row col-12",staticStyle:{margin:"15px"}},[a("div",{staticClass:"col-md-2 col-xs-12 inputID"},[a("q-input",{attrs:{readonly:"",color:"brown","bg-color":"white",filled:"",label:"ID"},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"fingerprint",color:"brown"}})]},proxy:!0}]),model:{value:e.idProduto,callback:function(o){e.idProduto=o},expression:"idProduto"}})],1),a("q-space"),a("div",{staticClass:"col-md-6 col-xs-12 inputNome"},[a("q-input",{attrs:{error:e.erroNomeProduto,"error-message":e.erroMsgNomeProduto,readonly:e.somenteLeitura,color:"brown","bg-color":"white",filled:"",label:"Nome do Produto"},on:{click:e.focusNomeProduto},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"inventory",color:"brown"}})]},proxy:!0},{key:"append",fn:function(){return[a("q-icon",{directives:[{name:"show",rawName:"v-show",value:0==e.somenteLeitura,expression:"somenteLeitura == false"}],attrs:{name:"close"},on:{click:function(o){e.nomeProduto=""}}})]},proxy:!0}]),model:{value:e.nomeProduto,callback:function(o){e.nomeProduto=o},expression:"nomeProduto"}})],1),a("div",{staticClass:"col-md-4 col-xs-12 inputValor"},[a("q-input",{attrs:{error:e.erroValorProduto,"error-message":e.erroMsgValorProduto,readonly:e.somenteLeitura,color:"black","bg-color":"white",filled:"",label:"Valor R$"},on:{click:e.focusValorProduto},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"attach_money",color:"brown"}})]},proxy:!0},{key:"append",fn:function(){return[a("q-icon",{directives:[{name:"show",rawName:"v-show",value:0==e.somenteLeitura,expression:"somenteLeitura == false"}],attrs:{name:"close"},on:{click:function(o){e.valorProduto=""}}})]},proxy:!0}]),model:{value:e.valorProduto,callback:function(o){e.valorProduto=o},expression:"valorProduto"}})],1)],1),a("div",{staticClass:"row justify-center"},[a("q-btn",{directives:[{name:"show",rawName:"v-show",value:1==e.modalAlteracao,expression:"modalAlteracao == true"}],attrs:{icon:"save",label:"Alterar",color:"green"},on:{click:e.alteraItemSelecionado}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{icon:"close",label:"Fechar",color:"red"},on:{click:e.fechaModal}})],1)],1)],1)},$o=[],zo={name:"ItemProduto",data:function(){return{exibeModal:!1,somenteLeitura:!1,modalAlteracao:!1,erroNomeProduto:!1,erroValorProduto:!1,erroMsgNomeProduto:"",erroMsgValorProduto:"",idProduto:"",nomeProduto:"",valorProduto:"",tituloModal:""}},methods:{fechaModal:function(){this.exibeModal=!this.exibeModal},abreModalAlteracao:function(e,o){this.somenteLeitura=!1,this.modalAlteracao=!0,this.exibeModal=!this.exibeModal,this.tituloModal=e,this.idProduto=o.id,this.nomeProduto=o.nome,this.valorProduto="R$ "+o.valor.toFixed(2)},confirmacao:function(e){var o=this;return new Promise((function(t,a){o.$q.dialog({dark:!0,title:"Tem certeza que deseja ".concat(e," este Produto ?"),cancel:"Sair",persistent:!0}).onOk((function(){t()}))}))},focusNomeProduto:function(){!1===this.modalAlteracao?this.nomeProduto=this.nomeProduto:this.nomeProduto=null},focusValorProduto:function(){!1===this.modalAlteracao?this.valorProduto=this.valorProduto:this.valorProduto=null},limparCampos:function(){this.idProduto=null,this.nomeProduto=null,this.valorProduto=null},validaCampos:function(){var e=this;return new Promise((function(o){var t=!1;""===e.nomeProduto||null===e.nomeProduto?(e.erroNomeProduto=!0,e.erroMsgNomeProduto='O campo "Nome" é obrigatório!',t=!0):(e.erroNomeProduto=!1,t=!1),""===e.valorProduto||null===e.valorProduto?(e.erroValorProduto=!0,e.erroMsgValorProduto='O campo "Valor" é obrigatório!',t=!0):(e.erroValorProduto=!1,t=!1),!1===t&&o(!0)}))},deletaItemSelecionado:function(){var e=this;this.confirmacao("excluir").then((function(){e.$q.notify({message:"Deletando...",color:"primary",timeout:1e3}),setTimeout((function(){S("v1/produto/"+parseInt(e.idProduto)).then((function(o){1==o.data.status?e.$q.notify({message:o.data.msg,color:"green",timeout:2e3}):e.$q.notify({message:o.data.msg,color:"red",timeout:2e3}),e.limparCampos(),e.fechaModal(),e.$emit("atualizaTabela")})).catch((function(o){e.$q.notify({message:"Erro ao deletar produto, tente novamente mais tarde",color:"red",timeout:2e3})}))}),1e3)}))},alteraItemSelecionado:function(){var e=this;this.validaCampos().then((function(){e.confirmacao("alterar").then((function(){var o=Object();o.Id=Number(e.idProduto),o.Nome=e.nomeProduto,o.Valor=e.valorProduto,console.log(o),e.$q.notify({message:"Carregando...",color:"primary",timeout:1e3}),setTimeout((function(){k("v1/produto/"+e.idProduto,o).then((function(o){console.log(o),1==o.data.status?e.$q.notify({message:o.data.msg,color:"green",timeout:2e3}):e.$q.notify({message:o.data.msg,color:"red",timeout:2e3}),e.limparCampos(),e.fechaModal(),e.$emit("atualizaTabela")})).catch((function(o){console.log(o),e.$q.notify({message:"Erro ao fazer alteração, tente novamente mais tarde",color:"red",timeout:2e3})}))}),1e3)}))}))}}},Vo=zo,Oo=(t("fccb"),t("2c91")),jo=Object(_["a"])(Vo,Lo,$o,!1,null,"6b01c76a",null),Bo=jo.exports;ie()(jo,"components",{QDialog:H["a"],QLayout:U["a"],QHeader:W["a"],QImg:ce["a"],QToolbarTitle:Y["a"],QBtn:K["a"],QPageContainer:X["a"],QInput:Z["a"],QIcon:ee["a"],QSpace:Oo["a"]}),ie()(jo,"directives",{ClosePopup:te["a"]});var Eo={name:"Produto",components:{DadosProduto:Bo},data:function(){return{totalLinhasTabela:[6],nomeProduto:"",valorProduto:"",filtroTabela:"",erroMsgNome:"",erroMsgValor:"",carregando:!1,erroCampoNome:!1,erroCampoValor:!1,desabilitarBotao:!1,exibeModal:!1,dados:[],colunas:[{name:"id",align:"right",label:"Id",field:"id",sortable:!0,headerClasses:"bg-dark text-white text-bold"},{name:"nome",align:"left",label:"Descrição",field:"nome",sortable:!0,headerClasses:"bg-dark text-white text-bold"},{name:"dataInclusao",align:"left",label:"Data Inclusão",sortable:!0,headerClasses:"bg-dark text-white text-bold"},{name:"valor",align:"right",label:"Valor",sortable:!0,headerClasses:"bg-dark text-white text-bold"},{name:"acoes",align:"center",label:"Ações",headerClasses:"bg-dark text-white text-bold"}]}},methods:{abreModalProduto:function(){this.exibeModal=!this.exibeModal},fechaModal:function(){this.exibeModal=!this.exibeModal,this.limparCampos()},abrirModalDadosVisualizacao:function(e){this.$refs.dadosProduto.abreModalVisualizacao("Visualizar Produto",e)},abrirModalDadosAlteracao:function(e){this.$refs.dadosProduto.abreModalAlteracao("Alterar Produto",e)},limparCampos:function(){this.nomeProduto=null,this.valorProduto=null},validaCampos:function(){var e=this;return new Promise((function(o){var t=!1;""===e.nomeProduto||null===e.nomeProduto?(e.erroCampoNome=!0,e.erroMsgNome='O Campo "Nome" é obrigatório!',t=!0):(e.erroCampoNome=!1,t=!1),""===e.valorProduto||null===e.valorProduto?(e.erroCampoValor=!0,e.erroMsgValor='O Campo "Valor" é obrigatório!',t=!0):(e.erroCampoValor=!1,t=!1),!1===t&&o(!0)}))},confirmacao:function(){var e=this;return new Promise((function(o,t){e.$q.dialog({dark:!0,title:"Tem certeza que deseja incluir este Produto ?",cancel:"Sair",persistent:!0}).onOk((function(){o()}))}))},recebeDadosProdutos:function(){var e=this;this.carregando=!0,w("v1/produto").then((function(o){e.dados=o.data,e.carregando=!1})).catch((function(o){console.log(o),e.carregando=!1}))},deletaProduto:function(e){var o=this;this.confirmacao().then((function(){o.$q.notify({message:"Deletando...",color:"primary",timeout:1e3}),setTimeout((function(){S("v1/produto/"+parseInt(e)).then((function(e){o.$q.notify({message:e.data.msg,color:"green",timeout:2e3}),o.recebeDadosProdutos()})).catch((function(e){o.$q.notify({message:"Erro ao deletar, tente novamente mais tarde",color:"red",timeout:2e3})}))}),1e3)}))},removeVirgula:function(e){var o=e.replace(/,/g,".");return o},insereNovoProduto:function(){var e=this;this.validaCampos().then((function(){e.confirmacao().then((function(){e.desabilitarBotao=!0;var o=e.removeVirgula(e.valorProduto),t=new No;t.Nome=e.nomeProduto.toUpperCase(),t.Valor=parseFloat(o),e.$q.notify({message:"Carregando...",color:"primary",timeout:1e3}),setTimeout((function(){C("v1/produto",t).then((function(o){1==o.data.status?e.$q.notify({message:o.data.msg,color:"green",timeout:2e3}):e.$q.notify({message:o.data.msg,color:"red",timeout:2e3}),e.desabilitarBotao=!1,e.limparCampos(),e.recebeDadosProdutos()})).catch((function(o){e.$q.notify({message:"Erro ao cadastrar produto, verifique as informações",color:"red",timeout:2e3}),e.desabilitarBotao=!1,console.log(o)}))}),1e3)}))}))}},created:function(){this.recebeDadosProdutos()}},Ro=Eo,Go=(t("b0b5"),t("f20b")),Ho=t("1c1c"),Uo=t("0170"),Wo=Object(_["a"])(Ro,Ao,Fo,!1,null,"203ab108",null),Yo=Wo.exports;ie()(Wo,"components",{QDialog:H["a"],QLayout:U["a"],QHeader:W["a"],QToolbarTitle:Y["a"],QBtn:K["a"],QPageContainer:X["a"],QPage:J["a"],QInput:Z["a"],QIcon:ee["a"],QSpace:Oo["a"],QTable:Be["a"],QTooltip:je["a"],QTd:Ee["a"],QBtnDropdown:Go["a"],QList:Ho["a"],QItem:_o["a"],QItemSection:Do["a"],QAvatar:Pe["a"],QItemLabel:Uo["a"],QFooter:oe["a"]}),ie()(Wo,"directives",{ClosePopup:te["a"]});var Ko=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("q-dialog",{staticClass:"col-xs-12",attrs:{persistent:"","full-width":""},model:{value:e.exibeModal,callback:function(o){e.exibeModal=o},expression:"exibeModal"}},[t("q-layout",{staticClass:"bg-brown",attrs:{view:"Lhh lpR fff",container:""}},[t("q-header",{staticClass:"bg-dark",staticStyle:{padding:"5px"}},[t("q-toolbar-title",{staticClass:"col-12"},[e._v("Profissional")])],1),t("q-page-container",[t("q-page",{staticStyle:{padding:"10px"}},[t("div",{staticClass:"row"},[t("q-input",{staticClass:"col-md-3 col-xs-12",attrs:{error:e.erroNomeProfissional,"error-message":e.erroMSGNomeProfissional,color:"dark","label-color":"dark","bg-color":"white",filled:"",label:"Nome"},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"person",color:"brown"}})]},proxy:!0}]),model:{value:e.nomeProfissional,callback:function(o){e.nomeProfissional=o},expression:"nomeProfissional"}}),t("q-space"),t("q-input",{staticClass:"col-md-2 col-xs-12",attrs:{error:e.erroDataNascimentoProfissional,"error-message":e.erroMSGDataNascimentoProfissional,color:"dark","label-color":"dark","bg-color":"white",filled:"",label:"Data de Nascimento",mask:"##/##/####"},scopedSlots:e._u([{key:"append",fn:function(){return[t("q-icon",{attrs:{name:"event",color:"brown"}},[t("q-popup-proxy",{ref:"qDateProxy",attrs:{"transition-show":"scale","transition-hide":"scale"}},[t("q-date",{attrs:{subtitle:"Data de",title:"Nascimento",dark:"",mask:"DD-MM-YYYY"},model:{value:e.dataNascimentoProfissional,callback:function(o){e.dataNascimentoProfissional=o},expression:"dataNascimentoProfissional"}},[t("div",{staticClass:"row items-center"},[t("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{label:"fechar",color:"red"}})],1)])],1)],1)]},proxy:!0}]),model:{value:e.dataNascimentoProfissional,callback:function(o){e.dataNascimentoProfissional=o},expression:"dataNascimentoProfissional"}}),t("q-space"),t("q-input",{staticClass:"col-md-2 col-xs-12",attrs:{error:e.erroTelefoneProfissional,"error-message":e.erroMSGTelefoneProfissional,mask:"(##)# ####-####",onkeypress:"return event.charCode >= 48 && event.charCode <= 57",color:"dark","label-color":"dark","bg-color":"white",filled:"",label:"N°Contato"},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"tty",color:"brown"}})]},proxy:!0}]),model:{value:e.telefoneProfissional,callback:function(o){e.telefoneProfissional=o},expression:"telefoneProfissional"}}),t("q-space"),t("q-input",{staticClass:"col-md-2 col-xs-12",attrs:{error:e.erroCPFProfissional,"error-message":e.erroMSGCPFProfissional,mask:"###.###.###-##",onkeypress:"return event.charCode >= 48 && event.charCode <= 57",color:"dark","label-color":"dark","bg-color":"white",filled:"",label:"CPF"},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"fingerprint",color:"brown"}})]},proxy:!0}]),model:{value:e.cpfProfissional,callback:function(o){e.cpfProfissional=o},expression:"cpfProfissional"}}),t("q-space"),t("q-input",{staticClass:"col-md-2 col-xs-12",attrs:{"reverse-fill-mask":"",mask:"#.##",suffix:"%",prefix:"%",error:e.erroPorcentagemProfissional,"error-message":e.erroMSGPorcentagemProfissional,color:"dark","label-color":"dark","bg-color":"white",filled:"",label:"Porcentagem"},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"money",color:"brown"}})]},proxy:!0}]),model:{value:e.porcentagemProfissional,callback:function(o){e.porcentagemProfissional=e._n(o)},expression:"porcentagemProfissional"}}),t("q-space"),t("div",{staticClass:"row justify-center"},[t("q-btn",{staticClass:"col-md-1 col-xs-2",staticStyle:{width:"55px",height:"56px"},attrs:{disable:e.desabilitarBotao,color:"green",icon:"add"},on:{click:e.insereNovoProfissional}})],1)],1),t("div",{staticClass:"row col-12 items-center justify-center"},[t("label",{staticClass:"text-white"},[e._v("Porcentagem por Produto ?")]),t("q-checkbox",{attrs:{dark:""},model:{value:e.recebePorcentagemProduto,callback:function(o){e.recebePorcentagemProduto=o},expression:"recebePorcentagemProduto"}}),t("q-input",{directives:[{name:"show",rawName:"v-show",value:1==e.recebePorcentagemProduto,expression:"recebePorcentagemProduto == true"}],staticClass:"col-md-3 col-xs-12",attrs:{"reverse-fill-mask":"",error:e.erroPorcentagemProduto,color:"dark","label-color":"dark","bg-color":"white",filled:"",mask:"#.##",suffix:"%",prefix:"%",label:"Porcentagem do Produto"},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"money",color:"brown"}})]},proxy:!0}]),model:{value:e.porcentagemProduto,callback:function(o){e.porcentagemProduto=e._n(o)},expression:"porcentagemProduto"}})],1),t("q-table",{attrs:{dense:"",separator:"cell","no-data-label":"Sem Profissionais cadastrados",loading:e.carregando,"rows-per-page-options":e.totalLinhasTabela,filter:e.filtroTabela,data:e.dados,columns:e.colunas},scopedSlots:e._u([{key:"no-data",fn:function(o){var a=o.icon,i=o.message,r=o.filter;return[t("div",{staticClass:"full-width row flex-center text-red-8 q-gutter-sm",staticStyle:{"font-size":"1rem"}},[t("span",[e._v(e._s(i))]),t("q-icon",{attrs:{size:"2em",name:r?"filter_b_and_w":a}})],1)]}},{key:"top-left",fn:function(){return[t("div",{staticClass:"row items-center"},[t("q-btn",{attrs:{size:"12px",color:"green",icon:"update",round:""},on:{click:e.recebeDadosProfissional}},[t("q-tooltip",{attrs:{anchor:"bottom middle",self:"top middle",offset:[18,18],"content-style":"font-size: 14px"}},[e._v("Atualizar Tabela")])],1),t("div",{staticClass:"q-ml-md",staticStyle:{"font-size":"1.3rem"}},[e._v("Lista")])],1)]},proxy:!0},{key:"top-right",fn:function(){return[t("q-input",{staticClass:"q-ml-xs",attrs:{dense:"",dark:"",placeholder:"Buscar profissional..."},scopedSlots:e._u([{key:"append",fn:function(){return[t("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filtroTabela,callback:function(o){e.filtroTabela=o},expression:"filtroTabela"}})]},proxy:!0},{key:"body-cell-dataNascimento",fn:function(o){return[t("q-td",{key:"dataNascimento",attrs:{props:o}},[e._v(e._s(new Date(o.row.dataNascimento).toLocaleDateString("pt-BR")))])]}},{key:"body-cell-telefoneCelular",fn:function(o){return[t("q-td",{key:"telefoneCelular",attrs:{props:o}},[e._v(e._s(o.row.telefoneCelular))])]}},{key:"body-cell-cpf",fn:function(o){return[t("q-td",{key:"cpf",attrs:{props:o}},[e._v(e._s(o.row.cpf))])]}},{key:"body-cell-porcentagem",fn:function(o){return[t("q-td",{key:"porcentagem",attrs:{props:o}},[e._v(e._s(o.row.porcentagem.toFixed(2))+" %")])]}},{key:"body-cell-geraPorcentagemProduto",fn:function(o){return[t("q-td",{key:"geraPorcentagemProduto",attrs:{props:o}},[e._v(e._s("S"===o.row.geraPorcentagemProduto?"Sim":"Não"))])]}},{key:"body-cell-porcentagemProduto",fn:function(o){return[t("q-td",{key:"porcentagemProduto",attrs:{props:o}},[e._v(e._s(o.row.porcentagemProduto.toFixed(2))+" %")])]}},{key:"body-cell-dataInclusao",fn:function(o){return[t("q-td",{key:"dataInclusao",attrs:{props:o}},[e._v(e._s(new Date(o.row.createdAt).toLocaleDateString("pt-BR")))])]}},{key:"body-cell-acoes",fn:function(o){return[t("q-td",{key:"acoes",attrs:{props:o}},[t("q-btn-dropdown",{attrs:{color:"brown","dropdown-icon":"build",align:"center"}},[t("q-list",[t("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){return e.deletaProfissional(o.row.id)}}},[t("q-item-section",{attrs:{avatar:""}},[t("q-avatar",{attrs:{icon:"delete",color:"red","text-color":"white"}})],1),t("q-item-section",[t("q-item-label",[e._v("Deletar")])],1),t("q-item-section",{attrs:{side:""}},[t("q-icon",{attrs:{name:"clear",color:"red"}})],1)],1),t("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){return e.abreModalEdicao(o.row)}}},[t("q-item-section",{attrs:{avatar:""}},[t("q-avatar",{attrs:{icon:"create",color:"secondary","text-color":"white"}})],1),t("q-item-section",[t("q-item-label",[e._v("Editar")])],1),t("q-item-section",{attrs:{side:""}},[t("q-icon",{attrs:{name:"border_color",color:"secondary"}})],1)],1)],1)],1)],1)]}}])}),t("div",{staticClass:"row justify-center",staticStyle:{"padding-top":"20px"}},[t("q-btn",{attrs:{color:"red",icon:"close",label:"Fechar"},on:{click:e.fechaModal}})],1)],1)],1),t("DadosProfissional",{ref:"dadosProfissional",on:{atualizaGradeProfissional:e.recebeDadosProfissional}})],1)],1)},Xo=[];t("25f0");function Jo(e){return new Promise((function(o){var t=e.split("/");o(new Date(t[2],t[1]-1,t[0],0,0,0))}))}var Zo=function(){var e=this,o=e.$createElement,a=e._self._c||o;return a("q-dialog",{attrs:{persistent:""},model:{value:e.exibeModal,callback:function(o){e.exibeModal=o},expression:"exibeModal"}},[a("q-layout",{staticClass:"modal bg-brown",attrs:{view:"Lhh lpR fff",container:""}},[a("q-header",{staticClass:"row bg-dark",staticStyle:{padding:"5px"}},[a("q-img",{staticStyle:{width:"35px"},attrs:{src:t("15a4"),alt:"Bigode"}}),a("q-toolbar-title",{staticClass:"q-mt-xs",staticStyle:{"font-size":"1.2rem","font-family":"cursive"}},[e._v(e._s(e.tituloModal))]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",dense:"",icon:"close",align:"right"}})],1),a("q-page-container",{staticClass:"row col-12",staticStyle:{margin:"15px"}},[a("div",{staticClass:"col-md-3 col-sm-3 col-xs-12",staticStyle:{"padding-right":"5px"}},[a("q-input",{attrs:{readonly:"",color:"brown","bg-color":"white",filled:"",label:"ID"},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"fingerprint",color:"brown"}})]},proxy:!0}]),model:{value:e.idProfissional,callback:function(o){e.idProfissional=o},expression:"idProfissional"}})],1),a("q-space"),a("div",{staticClass:"col-md-9 col-sm-9 col-xs-12"},[a("q-input",{attrs:{error:e.erroNomeProfissional,readonly:e.somenteLeitura,color:"brown","bg-color":"white",filled:"",label:"Nome"},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"inventory",color:"brown"}})]},proxy:!0},{key:"append",fn:function(){return[a("q-icon",{directives:[{name:"show",rawName:"v-show",value:0==e.somenteLeitura,expression:"somenteLeitura == false"}],attrs:{name:"close"},on:{click:function(o){e.nomeProfissional=""}}})]},proxy:!0}]),model:{value:e.nomeProfissional,callback:function(o){e.nomeProfissional=o},expression:"nomeProfissional"}})],1),a("div",{staticClass:"col-xs-12"},[a("q-input",{attrs:{error:e.erroDataNascimentoProfissional,mask:"##/##/####",readonly:e.somenteLeitura,color:"black","bg-color":"white",filled:"",label:"Data de Nascimento"},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"event",color:"brown"}})]},proxy:!0},{key:"append",fn:function(){return[a("q-icon",{directives:[{name:"show",rawName:"v-show",value:0==e.somenteLeitura,expression:"somenteLeitura == false"}],attrs:{name:"close"},on:{click:function(o){e.dataNascimento=""}}})]},proxy:!0}]),model:{value:e.dataNascimento,callback:function(o){e.dataNascimento=o},expression:"dataNascimento"}})],1),a("div",{staticClass:"col-xs-12"},[a("q-input",{attrs:{error:e.erroCPFProfissional,readonly:e.somenteLeitura,color:"black","bg-color":"white",filled:"",label:"CPF do Profissional"},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"fingerprint",color:"brown"}})]},proxy:!0},{key:"append",fn:function(){return[a("q-icon",{directives:[{name:"show",rawName:"v-show",value:0==e.somenteLeitura,expression:"somenteLeitura == false"}],attrs:{name:"close"},on:{click:function(o){e.cpfProfissional=""}}})]},proxy:!0}]),model:{value:e.cpfProfissional,callback:function(o){e.cpfProfissional=o},expression:"cpfProfissional"}})],1),a("div",{staticClass:"col-xs-12"},[a("q-input",{attrs:{error:e.erroTelefoneProfissional,readonly:e.somenteLeitura,color:"black","bg-color":"white",filled:"",label:"Celular - Telefone"},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"tty",color:"brown"}})]},proxy:!0},{key:"append",fn:function(){return[a("q-icon",{directives:[{name:"show",rawName:"v-show",value:0==e.somenteLeitura,expression:"somenteLeitura == false"}],attrs:{name:"close"},on:{click:function(o){e.telefoneProfissional=""}}})]},proxy:!0}]),model:{value:e.telefoneProfissional,callback:function(o){e.telefoneProfissional=o},expression:"telefoneProfissional"}})],1),a("div",{staticClass:"col-xs-12"},[a("q-input",{attrs:{"reverse-fill-mask":"",mask:"#,##",error:e.erroPorcentagemProfissional,readonly:e.somenteLeitura,color:"black","bg-color":"white",filled:"",label:"Porcentagem"},on:{click:function(o){e.porcentagemProfissional=""}},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"money",color:"brown"}})]},proxy:!0},{key:"append",fn:function(){return[a("q-icon",{directives:[{name:"show",rawName:"v-show",value:0==e.somenteLeitura,expression:"somenteLeitura == false"}],attrs:{name:"close"},on:{click:function(o){e.porcentagemProfissional=""}}})]},proxy:!0}]),model:{value:e.porcentagemProfissional,callback:function(o){e.porcentagemProfissional=e._n(o)},expression:"porcentagemProfissional"}})],1),a("div",{staticClass:"row col-12 items-center justify-center"},[a("label",{staticClass:"col-md-4 text-white"},[e._v("Porcentagem por Produto ?")]),a("q-checkbox",{staticClass:"col-md-1",attrs:{dark:""},model:{value:e.recebePorcentagemProduto,callback:function(o){e.recebePorcentagemProduto=o},expression:"recebePorcentagemProduto"}}),a("q-input",{directives:[{name:"show",rawName:"v-show",value:1==e.recebePorcentagemProduto,expression:"recebePorcentagemProduto == true"}],staticClass:"col-md-7 col-xs-12",attrs:{filled:"","reverse-fill-mask":"",error:e.erroPorcentagemProduto,color:"dark","label-color":"dark","bg-color":"white",mask:"#,##",suffix:"%",prefix:"%",label:"Porcentagem do Produto"},on:{click:function(o){e.porcentagemProduto=""}},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"money",color:"brown"}})]},proxy:!0},{key:"append",fn:function(){return[a("q-icon",{directives:[{name:"show",rawName:"v-show",value:0==e.somenteLeitura,expression:"somenteLeitura == false"}],attrs:{name:"close"},on:{click:function(o){e.porcentagemProduto=""}}})]},proxy:!0}]),model:{value:e.porcentagemProduto,callback:function(o){e.porcentagemProduto=e._n(o)},expression:"porcentagemProduto"}})],1)],1),a("q-footer",{staticClass:"transparent q-mb-sm"},[a("div",{staticClass:"row justify-center"},[a("q-btn",{attrs:{icon:"close",label:"Fechar",color:"red"},on:{click:e.fechaModal}}),a("q-btn",{directives:[{name:"show",rawName:"v-show",value:1==e.modalAlteracao,expression:"modalAlteracao == true"}],staticClass:"q-ml-sm",attrs:{icon:"save",label:"Alterar",color:"green"},on:{click:e.alteraProfissional}})],1)])],1)],1)},et=[],ot={name:"Profissional",data:function(){return{exibeModal:!1,somenteLeitura:!1,modalAlteracao:!1,recebePorcentagemProduto:!1,erroPorcentagemProduto:!1,erroPorcentagemProfissional:!1,erroTelefoneProfissional:!1,erroNomeProfissional:!1,erroDataNascimentoProfissional:!1,erroCPFProfissional:!1,idProfissional:"",nomeProfissional:"",cpfProfissional:"",telefoneProfissional:"",dataNascimento:"",porcentagemProfissional:"",porcentagemProduto:"",tituloModal:""}},methods:{fechaModal:function(){this.exibeModal=!this.exibeModal},abreModalAlteracao:function(e,o){this.modalAlteracao=!0,this.exibeModal=!this.exibeModal,this.tituloModal=e,this.telefoneProfissional=o.telefoneCelular,this.idProfissional=o.id,this.nomeProfissional=o.nome,this.cpfProfissional=o.cpf,this.porcentagemProfissional=o.porcentagem+" %",this.dataNascimento=new Date(o.dataNascimento).toLocaleDateString("pt-BR"),this.porcentagemProduto=o.porcentagemProduto.toFixed(2),"N"===o.geraPorcentagemProduto?this.recebePorcentagemProduto=!1:"S"===o.geraPorcentagemProduto&&(this.recebePorcentagemProduto=!0)},confirmacao:function(){var e=this;return new Promise((function(o,t){e.$q.dialog({dark:!0,title:"Tem certeza que deseja alterar o Profissional ?",cancel:"Sair",persistent:!0}).onOk((function(){o()}))}))},validaCampos:function(){var e=this;return new Promise((function(o){var t=!1;""===e.nomeProfissional||null===e.nomeProfissional?(e.erroNomeProfissional=!0,t=!0):(e.erroNomeProfissional=!1,t=!1),""===e.dataNascimentoProfissional||null===e.dataNascimentoProfissional?(e.erroDataNascimentoProfissional=!0,t=!0):(e.erroDataNascimentoProfissional=!1,t=!1),""===e.cpfProfissional||null===e.cpfProfissional?(e.erroCPFProfissional=!0,t=!0):(e.erroCPFProfissional=!1,t=!1),e.cpfProfissional.length<14?(e.erroCPFProfissional=!0,e.$q.notify({type:"negative",message:"CPF inválido",timeout:"3000"}),t=!0):(e.erroCPFProfissional=!1,t=!1),""===e.telefoneProfissional||null===e.telefoneProfissional?(e.erroTelefoneProfissional=!0,t=!0):(e.erroTelefoneProfissional=!1,t=!1),""===e.porcentagemProfissional||null===e.porcentagemProfissional?(e.erroPorcentagemProfissional=!0,t=!0):(e.erroTelefoneProfissional=!1,t=!1),1==e.recebePorcentagemProduto&&(""===e.porcentagemProduto||null===e.porcentagemProduto?(e.erroPorcentagemProduto=!0,t=!0):(e.erroPorcentagemProduto=!1,t=!1)),!1===t&&o(!0)}))},limparCampos:function(){this.idProfissional=null,this.nomeProfissional=null,this.cpfProfissional=null,this.dataNascimento=null,this.telefoneProfissional=null},alteraProfissional:function(){var e=this;this.validaCampos().then((function(){e.confirmacao().then(i()(regeneratorRuntime.mark((function o(){var t;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return t=new uo,t.Id=parseInt(e.idProfissional),t.Nome=e.nomeProfissional,o.next=5,Jo(e.dataNascimento);case 5:t.DataNascimento=o.sent,t.CPF=e.cpfProfissional,t.TelefoneCelular=e.telefoneProfissional,t.Porcentagem=parseFloat(e.porcentagemProfissional),1==e.recebePorcentagemProduto?(t.GeraPorcentagemProduto="S",t.PorcentagemProduto=parseFloat(e.porcentagemProduto)):(t.GeraPorcentagemProduto="N",t.PorcentagemProduto=0),e.$q.notify({color:"primary",message:"Carregando...",timeout:"1000"}),console.log(t),setTimeout((function(){var o=parseInt(e.idProfissional);k("v1/profissional/"+o,t).then((function(o){1==o.data.status?e.$q.notify({color:"green",message:o.data.msg,timeout:"2000"}):e.$q.notify({type:"negative",message:o.data.msg,timeout:"1000"}),e.limparCampos(),e.fechaModal(),e.$emit("atualizaGradeProfissional")})).catch((function(o){e.$q.notify({type:"negative",message:"Não foi possível alterar Profissional",timeout:"2000"}),console.log(o)}))}),2e3);case 13:case"end":return o.stop()}}),o)}))))}))}}},tt=ot,at=(t("42f7"),Object(_["a"])(tt,Zo,et,!1,null,"405b85a1",null)),it=at.exports;ie()(at,"components",{QDialog:H["a"],QLayout:U["a"],QHeader:W["a"],QImg:ce["a"],QToolbarTitle:Y["a"],QBtn:K["a"],QPageContainer:X["a"],QInput:Z["a"],QIcon:ee["a"],QSpace:Oo["a"],QCheckbox:bo["a"],QFooter:oe["a"]}),ie()(at,"directives",{ClosePopup:te["a"]});var rt={name:"ModalProfissional",components:{DadosProfissional:it},data:function(){return{nomeProfissional:"",dataNascimentoProfissional:"",cpfProfissional:"",telefoneProfissional:"",porcentagemProfissional:"",porcentagemProduto:"",filtroTabela:"",totalLinhasTabela:[5],erroMSGTelefoneProfissional:"",erroMSGNomeProfissional:"",erroMSGDataNascimentoProfissional:"",erroMSGCPFProfissional:"",erroMSGPorcentagemProfissional:"",recebePorcentagemProduto:!1,carregando:!1,erroPorcentagemProduto:!1,erroPorcentagemProfissional:!1,erroTelefoneProfissional:!1,erroNomeProfissional:!1,erroDataNascimentoProfissional:!1,erroCPFProfissional:!1,desabilitarBotao:!1,exibeModal:!1,dados:[],colunas:[{name:"id",align:"right",label:"ID",field:"id",headerClasses:"bg-dark text-white"},{name:"nome",align:"left",label:"Nome",field:"nome",headerClasses:"bg-dark text-white"},{name:"dataNascimento",align:"center",label:"Data de Nascimento",headerClasses:"bg-dark text-white"},{name:"telefoneCelular",align:"left",label:"Telefone / Celular",headerClasses:"bg-dark text-white"},{name:"cpf",align:"center",label:"CPF",headerClasses:"bg-dark text-white"},{name:"porcentagem",align:"right",label:"Porcentagem %",headerClasses:"bg-dark text-white"},{name:"geraPorcentagemProduto",align:"center",label:"% Prod. Vendido",headerClasses:"bg-dark text-white"},{name:"porcentagemProduto",align:"right",label:"Porcentagem no Produto %",headerClasses:"bg-dark text-white"},{name:"dataInclusao",align:"center",label:"Data Inclusão",headerClasses:"bg-dark text-white"},{name:"acoes",align:"center",label:"Ações",headerClasses:"bg-dark text-white"}]}},methods:{abreModalProfissional:function(){this.exibeModal=!this.exibeModal,this.recebeDadosProfissional()},abreModalEdicao:function(e){this.$refs.dadosProfissional.abreModalAlteracao("Editar Profissional",e)},fechaModal:function(){this.exibeModal=!this.exibeModal,this.limpaCampos()},limpaCampos:function(){this.nomeProfissional=null,this.dataNascimentoProfissional=null,this.cpfProfissional=null,this.telefoneProfissional=null,this.porcentagemProfissional=null,this.recebePorcentagemProduto=!1,this.porcentagemProduto=null},validaCampos:function(){var e=this;return new Promise((function(o){var t=!1;""===e.nomeProfissional||null===e.nomeProfissional?(e.erroNomeProfissional=!0,e.erroMSGNomeProfissional='O campo "Nome" é obrigatório',t=!0):(e.erroNomeProfissional=!1,t=!1),""===e.dataNascimentoProfissional||null===e.dataNascimentoProfissional?(e.erroDataNascimentoProfissional=!0,e.erroMSGDataNascimentoProfissional='O campo "Data Nascimento" é obrigatório',t=!0):(e.erroDataNascimentoProfissional=!1,t=!1),""===e.cpfProfissional||null===e.cpfProfissional?(e.erroCPFProfissional=!0,e.erroMSGCPFProfissional="Campo Obrigatório",t=!0):(e.erroCPFProfissional=!1,t=!1),e.cpfProfissional.length<14?(e.erroCPFProfissional=!0,e.erroMSGCPFProfissional="CPF Inválido!",t=!0):(e.erroCPFProfissional=!1,t=!1),""===e.telefoneProfissional||null===e.telefoneProfissional?(e.erroTelefoneProfissional=!0,e.erroMSGTelefoneProfissional="Campo Obrigatório",t=!0):(e.erroTelefoneProfissional=!1,t=!1),""===e.porcentagemProfissional||null===e.porcentagemProfissional?(e.erroPorcentagemProfissional=!0,e.erroMSGPorcentagemProfissional="Campo Obrigatório",t=!0):(e.erroTelefoneProfissional=!1,t=!1),1==e.recebePorcentagemProduto&&(""===e.porcentagemProduto||null===e.porcentagemProduto?(e.erroPorcentagemProduto=!0,t=!0):(e.erroPorcentagemProduto=!1,t=!1)),!1===t&&o(!0)}))},confirmacao:function(){var e=this;return new Promise((function(o,t){e.$q.dialog({dark:!0,title:"Tem certeza que deseja incluir o Profissional ?",cancel:"Sair",persistent:!0}).onOk((function(){o()}))}))},recebeDadosProfissional:function(){var e=this;this.carregando=!0,setTimeout((function(){w("v1/profissional").then((function(o){e.dados=o.data,e.carregando=!1,console.log(o.data)})).catch((function(o){console.log(o),e.carregando=!1}))}),1500)},deletaProfissional:function(e){var o=this;this.confirmacao().then((function(){o.$q.notify({message:"Deletando...",color:"accent",timeout:1e3}),setTimeout((function(){S("v1/profissional/"+parseInt(e)).then((function(e){1==e.data.status?o.$q.notify({message:e.data.msg,color:"green",timeout:2e3}):o.$q.notify({message:e.data.msg,color:"red",timeout:2e3}),o.recebeDadosProfissional()})).catch((function(e){o.$q.notify({message:"Erro ao deletar, tente novamente mais tarde",color:"red",timeout:2e3})}))}),1e3)}))},insereNovoProfissional:function(){var e=this;this.validaCampos().then((function(){e.confirmacao().then(i()(regeneratorRuntime.mark((function o(){var t;return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:return e.desabilitarBotao=!0,t=new co,t.Nome=e.nomeProfissional.toUpperCase(),o.next=5,Jo(e.dataNascimentoProfissional);case 5:t.DataNascimento=o.sent,t.CPF=e.cpfProfissional,t.TelefoneCelular=e.telefoneProfissional,t.Porcentagem=parseFloat(e.porcentagemProfissional),1==e.recebePorcentagemProduto?(t.GeraPorcentagemProduto="S",t.PorcentagemProduto=parseFloat(e.porcentagemProduto)):(t.GeraPorcentagemProduto="N",t.PorcentagemProduto=0),e.$q.notify({message:"Carregando...",color:"accent",timeout:1e3}),setTimeout((function(){C("v1/profissional",t).then((function(o){1==o.data.status?e.$q.notify({message:o.data.msg,color:"green",timeout:2e3}):e.$q.notify({message:o.data.msg,color:"red",timeout:2e3}),e.desabilitarBotao=!1,e.limpaCampos(),e.recebeDadosProfissional()})).catch((function(o){e.$q.notify({message:"Erro ao cadastrar profissional, verifique as informações",color:"red",timeout:2e3}),e.desabilitarBotao=!1,console.log(o)}))}),1e3);case 12:case"end":return o.stop()}}),o)}))))}))}}},nt=rt,st=Object(_["a"])(nt,Ko,Xo,!1,null,"51df46f9",null),lt=st.exports;ie()(st,"components",{QDialog:H["a"],QLayout:U["a"],QHeader:W["a"],QToolbarTitle:Y["a"],QPageContainer:X["a"],QPage:J["a"],QInput:Z["a"],QIcon:ee["a"],QSpace:Oo["a"],QPopupProxy:po["a"],QDate:ho["a"],QBtn:K["a"],QCheckbox:bo["a"],QTable:Be["a"],QTooltip:je["a"],QTd:Ee["a"],QBtnDropdown:Go["a"],QList:Ho["a"],QItem:_o["a"],QItemSection:Do["a"],QAvatar:Pe["a"],QItemLabel:Uo["a"]}),ie()(st,"directives",{ClosePopup:te["a"]});var ct=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("q-dialog",{attrs:{persistent:"","full-height":"","full-width":""},model:{value:e.exibeModal,callback:function(o){e.exibeModal=o},expression:"exibeModal"}},[t("q-layout",{staticClass:"bg-brown",attrs:{view:"Lhh lpR fff",container:""}},[t("q-header",{staticClass:"row bg-dark",staticStyle:{padding:"5px"}},[t("q-toolbar-title",[e._v("Clientes")]),t("q-btn",{attrs:{flat:"",dense:"",icon:"close",align:"right"},on:{click:e.fechaModal}})],1),t("q-page-container",[t("q-page",{attrs:{padding:""}},[t("div",{staticClass:"row col-12"},[t("q-input",{staticClass:"col-md-8 col-xs-12",attrs:{error:e.erroNomeCliente,"error-message":e.erroMsgNome,color:"dark","label-color":"dark","bg-color":"white",filled:"",label:"Nome do Cliente"},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"credit_card",color:"brown"}})]},proxy:!0}]),model:{value:e.clienteNome,callback:function(o){e.clienteNome=o},expression:"clienteNome"}}),t("q-space"),t("q-input",{staticClass:"col-md-3 col-xs-12",attrs:{onkeypress:"return event.charCode >= 48 && event.charCode <= 57",mask:e.mascaraNumero,error:e.erroTelefoneCliente,"error-message":e.erroMsgTelefone,color:"dark","label-color":"dark","bg-color":"white",filled:"",label:"Telefone/Celular"},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"credit_card",color:"brown"}})]},proxy:!0}]),model:{value:e.telefoneCliente,callback:function(o){e.telefoneCliente=o},expression:"telefoneCliente"}}),t("q-space"),t("div",{staticClass:"row justify-center"},[t("q-btn",{staticClass:"col-md-2 col-xs-12",staticStyle:{width:"55px",height:"56px"},attrs:{color:"green",icon:"add"},on:{click:e.insereNovoCliente}})],1)],1),t("q-table",{staticStyle:{color:"#000"},attrs:{"rows-per-page-options":e.totalLinhasTabela,filter:e.filtroBusca,data:e.dados,columns:e.colunas,loading:e.carregando,dense:"",separator:"cell","row-key":"id"},scopedSlots:e._u([{key:"no-data",fn:function(o){var a=o.icon,i=o.message,r=o.filter;return[t("div",{staticClass:"full-width row flex-center text-red-8 q-gutter-sm",staticStyle:{"font-size":"1rem"}},[t("q-icon",{attrs:{size:"2em",name:"sentiment_dissatisfied"}}),t("span",[e._v(e._s(i))]),t("q-icon",{attrs:{size:"2em",name:r?"filter_b_and_w":a}})],1)]}},{key:"top-left",fn:function(){return[t("div",{staticClass:"row items-center"},[t("q-btn",{attrs:{size:"12px",color:"green",icon:"update",round:""},on:{click:e.recebeDadosTabela}},[t("q-tooltip",{attrs:{anchor:"bottom middle",self:"top middle",offset:[18,18],"content-style":"font-size: 14px"}},[e._v("Atualizar Tabela")])],1),t("div",{staticClass:"q-ml-md",staticStyle:{"font-size":"1.3rem"}},[e._v("Lista")])],1)]},proxy:!0},{key:"top-right",fn:function(){return[t("q-input",{staticClass:"q-ml-xs",attrs:{dense:"",placeholder:"Buscar nome do cliente..."},scopedSlots:e._u([{key:"append",fn:function(){return[t("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filtroBusca,callback:function(o){e.filtroBusca=o},expression:"filtroBusca"}})]},proxy:!0},{key:"body-cell-telefoneCelular",fn:function(o){return[t("q-td",{key:"telefoneCelular",attrs:{props:o}},[e._v(e._s(""===o.row.telefoneCelular||null===o.row.telefoneCelular?"S/N":o.row.telefoneCelular))])]}},{key:"body-cell-dataInclusao",fn:function(o){return[t("q-td",{key:"dataInclusao",attrs:{props:o}},[e._v(e._s(new Date(o.row.createdAt).toLocaleDateString("pt-BR"))+" - "+e._s(new Date(o.row.createdAt).toLocaleTimeString("pt-BR")))])]}},{key:"body-cell-acoes",fn:function(o){return[t("q-td",{key:"acoes",attrs:{props:o}},[t("q-btn-dropdown",{attrs:{color:"brown","dropdown-icon":"build",align:"center"}},[t("q-list",[t("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){return e.desativaCliente(o.row.id)}}},[t("q-item-section",{attrs:{avatar:""}},[t("q-avatar",{attrs:{icon:"delete",color:"red","text-color":"white"}})],1),t("q-item-section",[t("q-item-label",[e._v("Deletar")])],1),t("q-item-section",{attrs:{side:""}},[t("q-icon",{attrs:{name:"clear",color:"red"}})],1)],1),t("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){return e.exibirModalAlteracaoCliente(o.row)}}},[t("q-item-section",{attrs:{avatar:""}},[t("q-avatar",{attrs:{icon:"create",color:"secondary","text-color":"white"}})],1),t("q-item-section",[t("q-item-label",[e._v("Editar")])],1),t("q-item-section",{attrs:{side:""}},[t("q-icon",{attrs:{name:"border_color",color:"secondary"}})],1)],1)],1)],1)],1)]}}])}),t("div",{staticClass:"row justify-center",staticStyle:{"padding-top":"20px"}},[t("q-btn",{attrs:{color:"red",icon:"close",label:"Fechar"},on:{click:e.fechaModal}})],1)],1)],1),t("DadosCliente",{ref:"dadosCliente",on:{atualizaGrade:e.recebeDadosTabela}})],1)],1)},dt=[],ut=function(){var e=this,o=e.$createElement,a=e._self._c||o;return a("q-dialog",{attrs:{persistent:""},model:{value:e.exibeModal,callback:function(o){e.exibeModal=o},expression:"exibeModal"}},[a("q-layout",{staticClass:"modal bg-brown",attrs:{view:"Lhh lpR fff",container:""}},[a("q-header",{staticClass:"row bg-dark",staticStyle:{padding:"5px"}},[a("q-img",{staticStyle:{width:"35px"},attrs:{src:t("15a4"),alt:"Bigode"}}),a("q-toolbar-title",{staticClass:"q-mt-xs",staticStyle:{"font-size":"1.2rem","font-family":"cursive"}},[e._v(e._s(e.tituloModal))]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",dense:"",icon:"close",align:"right"}})],1),a("q-page-container",{staticClass:"row col-12",staticStyle:{margin:"15px"}},[a("div",{staticClass:"col-md-3 col-xs-12",staticStyle:{padding:"5px"}},[a("q-input",{attrs:{readonly:"",color:"brown","bg-color":"white",filled:"",label:"ID"},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"fingerprint",color:"brown"}})]},proxy:!0}]),model:{value:e.idCliente,callback:function(o){e.idCliente=o},expression:"idCliente"}})],1),a("div",{staticClass:"col-md-9 col-xs-12",staticStyle:{padding:"5px"}},[a("q-input",{attrs:{color:"brown","bg-color":"white",filled:"",label:"Nome do Cliente"},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"person",color:"brown"}})]},proxy:!0},{key:"append",fn:function(){return[a("q-icon",{directives:[{name:"show",rawName:"v-show",value:1==e.modalAlteracao,expression:"modalAlteracao == true"}],attrs:{name:"close"},on:{click:function(o){e.nomeCliente=""}}})]},proxy:!0}]),model:{value:e.nomeCliente,callback:function(o){e.nomeCliente=o},expression:"nomeCliente"}})],1),a("div",{staticClass:"col-12",staticStyle:{padding:"5px"}},[a("q-input",{attrs:{mask:e.mascaraTelefone,onkeypress:"return event.charCode >= 48 && event.charCode <= 57",color:"black","bg-color":"white",filled:"",label:"Celular / Telefone"},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"local_phone",color:"brown"}})]},proxy:!0},{key:"append",fn:function(){return[a("q-icon",{directives:[{name:"show",rawName:"v-show",value:1==e.modalAlteracao,expression:"modalAlteracao == true"}],attrs:{name:"close"},on:{click:function(o){e.telefoneCliente=""}}})]},proxy:!0}]),model:{value:e.telefoneCliente,callback:function(o){e.telefoneCliente=o},expression:"telefoneCliente"}})],1)]),a("q-footer",{staticClass:"transparent q-mb-sm"},[a("div",{staticClass:"row justify-center"},[a("q-btn",{directives:[{name:"show",rawName:"v-show",value:e.modalInclusao,expression:"modalInclusao"}],attrs:{icon:"save",label:"Salvar",color:"green"},on:{click:e.cadastraCliente}}),a("q-btn",{directives:[{name:"show",rawName:"v-show",value:e.modalAlteracao,expression:"modalAlteracao"}],attrs:{icon:"save",label:"Alterar",color:"green"},on:{click:e.alterarCliente}}),a("q-btn",{directives:[{name:"show",rawName:"v-show",value:e.modalReativacao,expression:"modalReativacao"}],attrs:{icon:"autorenew",label:"Reativar",color:"green"},on:{click:e.reativarCliente}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{icon:"close",label:"Fechar",color:"red"},on:{click:e.fechaModal}})],1)])],1)],1)},mt=[],ft=function e(){L()(this,e),z()(this,"Id",""),z()(this,"Nome",""),z()(this,"TelefoneCelular","")},pt={name:"Item-Cliente",data:function(){return{exibeModal:!1,modalInclusao:!1,modalAlteracao:!1,modalExclusao:!1,modalReativacao:!1,erroNome:!1,erroTelefone:!1,erroMsgNome:"",erroMsgTelefone:"",tituloModal:"",mascaraTelefone:"(##)#####-####",idCliente:"",nomeCliente:"",telefoneCliente:""}},methods:{exibirModalAlteracao:function(e,o){this.idCliente=o.id,this.nomeCliente=o.nome,this.telefoneCliente=o.telefoneCelular,this.exibeModal=!this.exibeModal,this.tituloModal=e,this.modalInclusao=!1,this.modalReativacao=!1,this.modalAlteracao=!0},exibirModalExclusao:function(e,o){this.idCliente=o.id,this.nomeCliente=o.nome,this.telefoneCliente=o.telefoneCelular,this.exibeModal=!this.exibeModal,this.tituloModal=e,this.modalInclusao=!1,this.modalAlteracao=!1,this.modalExclusao=!0,this.modalReativacao=!1},exibirModalReativacao:function(e,o){this.idCliente=o.id,this.nomeCliente=o.nome,this.telefoneCliente=o.telefoneCelular,this.exibeModal=!this.exibeModal,this.tituloModal=e,this.modalInclusao=!1,this.modalAlteracao=!1,this.modalExclusao=!1,this.modalReativacao=!0},limparCampos:function(){this.idCliente="",this.nomeCliente="",this.telefoneCliente=""},fechaModal:function(){this.exibeModal=!this.exibeModal,this.limparCampos()},confirmacao:function(e){var o=this;return new Promise((function(t,a){o.$q.dialog({dark:!0,title:e,cancel:"Sair",persistent:!0}).onOk((function(){t()}))}))},validaCampos:function(){var e=this;return new Promise((function(o){var t=!1;""===e.nomeCliente||null===e.nomeCliente?(e.erroNome=!0,e.erroMsgNome='O Campo "Nome" é obrigatório!',t=!0):(e.erroNome=!1,t=!1),""===e.telefoneCliente||null===e.telefoneCliente?(e.erroTelefone=!0,e.erroMsgTelefone='O Campo "Telefone/Celular" é obrigatório!',t=!0):(e.erroTelefone=!1,t=!1),!1===t&&o(!0)}))},cadastraCliente:function(){var e=this,o=new to;o.Nome=this.nomeCliente,o.TelefoneCelular=this.telefoneCliente,this.$q.notify({message:"Carregando...",color:"blue",timeout:2e3}),setTimeout((function(){C("v1/cliente",o).then((function(o){e.$q.notify({message:o.data.msg,color:"green"}),e.fechaModal(),e.limparCampos(),e.$emit("atualizaGrade")})).catch((function(o){console.log(o),e.$q.notify({message:"Erro",caption:"Não foi possível incluir novo cliente, verifique novamente",color:"red"})}))}),2e3)},alterarCliente:function(){var e=this,o=new ft;o.Id=this.idCliente,o.Nome=this.nomeCliente,o.TelefoneCelular=this.telefoneCliente,this.$q.notify({message:"Carregando...",color:"blue",timeout:2e3}),setTimeout((function(){k("v1/cliente/"+e.idCliente,o).then((function(t){console.log(o),e.$q.notify({message:t.data.msg,color:"green"}),e.fechaModal(),e.limparCampos(),e.$emit("atualizaGrade")})).catch((function(o){e.$q.notify({message:"Erro",caption:"Não foi possível fazer alteração",color:"red"}),console.log(o)}))}),2e3)},reativarCliente:function(){var e=this,o=this.idCliente;this.confirmacao("Tem certeza que deseja reativar o cliente ?").then((function(){e.$q.notify({message:"Carregando...",color:"blue",timeout:2e3}),setTimeout((function(){y("v1/cliente/"+o).then((function(o){e.$q.notify({message:"O Cliente foi reativado com sucesso",color:"green"}),e.fechaModal(),e.limparCampos(),e.$emit("atualizaGrade")})).catch((function(o){e.$q.notify({message:"Erro",caption:"Não foi possível fazer reativação",color:"red"}),console.log(o)}))}),2e3)}))}}},ht=pt,bt=(t("7968"),Object(_["a"])(ht,ut,mt,!1,null,"cf950e00",null)),gt=bt.exports;ie()(bt,"components",{QDialog:H["a"],QLayout:U["a"],QHeader:W["a"],QImg:ce["a"],QToolbarTitle:Y["a"],QBtn:K["a"],QPageContainer:X["a"],QInput:Z["a"],QIcon:ee["a"],QFooter:oe["a"]}),ie()(bt,"directives",{ClosePopup:te["a"]});var vt={name:"ModalCliente",components:{DadosCliente:gt},data:function(){return{totalLinhasTabela:[6],exibeModal:!1,erroNomeCliente:!1,erroTelefoneCliente:!1,carregando:!1,mascaraNumero:"(##)# ####-####",erroMsgNome:"",erroMsgTelefone:"",clienteNome:"",telefoneCliente:"",filtroBusca:"",filtroBuscaInativo:"",dataCriacao:[],dados:[],colunas:[{name:"id",required:!0,label:"ID",align:"right",field:"id",format:function(e){return"".concat(e)},sortable:!0,classes:"bg-grey-2 ellipsis",style:"max-width: 100px",headerClasses:"bg-dark text-white"},{name:"nome",required:!0,label:"Nome",align:"left",field:"nome",sortable:!0,classes:"bg-grey-2 ellipsis",style:"max-width: 100px",headerClasses:"bg-dark text-white"},{name:"telefoneCelular",required:!0,label:"Celular / Telefone",align:"left",sortable:!0,classes:"bg-grey-2 ellipsis",style:"max-width: 100px",headerClasses:"bg-dark text-white"},{name:"dataInclusao",required:!0,label:"Data de Inclusão",align:"left",sortable:!0,classes:"bg-grey-2 ellipsis",style:"max-width: 100px",headerClasses:"bg-dark text-white"},{name:"acoes",required:!0,label:"Opções",align:"center",sortable:!0,classes:"bg-grey-2 ellipsis",style:"max-width: 100px",headerClasses:"bg-dark text-white"}]}},methods:{abreModalCliente:function(){this.exibeModal=!this.exibeModal},fechaModal:function(){this.exibeModal=!this.exibeModal,this.limparCampos()},exibirModalAlteracaoCliente:function(e){this.$refs.dadosCliente.exibirModalAlteracao("Alterar Cliente",e)},confirmacao:function(e){var o=this;return new Promise((function(t,a){o.$q.dialog({dark:!0,title:e,cancel:"Sair",persistent:!0}).onOk((function(){t()}))}))},limparCampos:function(){this.clienteNome=null,this.telefoneCliente=null},validaCampos:function(){var e=this;return new Promise((function(o){var t=!1;""==e.clienteNome||null==e.clienteNome?(e.erroNomeCliente=!0,e.erroMsgNome='O Campo "Nome" é obrigatório!',t=!0):(e.erroNomeCliente=!1,t=!1),""==e.telefoneCliente||null==e.telefoneCliente?(e.erroTelefoneCliente=!0,e.erroMsgTelefone='O Campo "Telefone/Celular" é obrigatório!',t=!0):(e.clienteTelefone=!1,t=!1),!1===t&&o(!0)}))},recebeDadosTabela:function(){var e=this;this.carregando=!0,w("v1/cliente").then((function(o){e.dados=o.data,e.carregando=!1})).catch((function(o){console.log(o),e.carregando=!1}))},desativaCliente:function(e){var o=this;this.confirmacao("Tem certeza que desejar excluir esse cliente ?").then((function(){o.$q.notify({message:"Carregando...",color:"blue",timeout:1e3}),setTimeout((function(){S("v1/cliente/"+e).then((function(e){1==e.data.status?(o.$q.notify({message:e.data.msg,color:"green",timeout:2e3}),o.limparCampos(),o.recebeDadosTabela()):o.$q.notify({message:e.data.msg,color:"red",timeout:2e3})})).catch((function(e){o.$q.notify({message:"Erro",caption:"Não foi possível fazer exclusão",color:"red"}),console.log(e)}))}),1e3)}))},insereNovoCliente:function(){var e=this;this.confirmacao("Deseja incluir este cliente ?").then((function(){e.validaCampos().then((function(){e.$q.notify({message:"Incluindo...",color:"primary",timeout:1e3}),setTimeout((function(){var o=new to;o.Nome=e.clienteNome.toUpperCase(),o.TelefoneCelular=e.telefoneCliente,C("v1/cliente",o).then((function(o){1==o.data.status?(e.$q.notify({message:o.data.msg,color:"green",timeout:2e3}),e.limparCampos(),e.recebeDadosTabela()):e.$q.notify({message:o.data.msg,color:"red",timeout:2e3})})).catch((function(o){console.log(o.message),e.$q.notify({message:"Não foi possível fazer a inclusão, tente novamente mais tarde",color:"red",timeout:2e3})}))}),1e3)}))}))}},mounted:function(){this.recebeDadosTabela()}},xt=vt,qt=(t("c8ec"),Object(_["a"])(xt,ct,dt,!1,null,"72e3fd78",null)),yt=qt.exports;ie()(qt,"components",{QDialog:H["a"],QLayout:U["a"],QHeader:W["a"],QToolbarTitle:Y["a"],QBtn:K["a"],QPageContainer:X["a"],QPage:J["a"],QInput:Z["a"],QIcon:ee["a"],QSpace:Oo["a"],QTable:Be["a"],QTooltip:je["a"],QTd:Ee["a"],QBtnDropdown:Go["a"],QList:Ho["a"],QItem:_o["a"],QItemSection:Do["a"],QAvatar:Pe["a"],QItemLabel:Uo["a"]}),ie()(qt,"directives",{ClosePopup:te["a"]});var Pt=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("q-dialog",{attrs:{persistent:""},model:{value:e.exibeModal,callback:function(o){e.exibeModal=o},expression:"exibeModal"}},[t("q-layout",{staticClass:"bg-brown",attrs:{view:"Lhh lpR fff",container:""}},[t("q-header",{staticClass:"bg-dark",staticStyle:{padding:"5px"}},[t("q-toolbar-title",[e._v("Serviços")])],1),t("q-page-container",[t("q-page",{staticStyle:{padding:"10px"}},[t("div",{staticClass:"row q-mb-xs"},[t("q-input",{staticClass:"col-md-5 col-xs-12",attrs:{error:e.erroDescricaoServico,"error-message":e.erroMSGDescricao,color:"dark","label-color":"dark","bg-color":"white",filled:"",label:"Descrição"},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"construction",color:"brown"}})]},proxy:!0}]),model:{value:e.descricaoServico,callback:function(o){e.descricaoServico=o},expression:"descricaoServico"}}),t("q-space"),t("q-input",{staticClass:"col-md-5 col-xs-12",attrs:{mask:"#.##","reverse-fill-mask":"",prefix:"R$",error:e.erroValorServico,"error-message":e.erroMSGValor,color:"dark","label-color":"dark","bg-color":"white",filled:"",label:"Valor do Serviço"},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"attach_money",color:"brown"}})]},proxy:!0}]),model:{value:e.valorServico,callback:function(o){e.valorServico=o},expression:"valorServico"}}),t("q-space"),t("div",{staticClass:"row justify-center"},[t("q-btn",{staticClass:"col-md-1 col-xs-12",staticStyle:{width:"55px",height:"55px"},attrs:{disable:e.desabilitarBotao,color:"green",icon:"add"},on:{click:e.insereNovoServico}})],1)],1),t("q-table",{attrs:{dense:"",separator:"cell",loading:e.carregando,"rows-per-page-options":e.totalLinhasTabela,filter:e.filtroTabela,data:e.dados,columns:e.colunas},scopedSlots:e._u([{key:"no-data",fn:function(o){var a=o.icon,i=o.message,r=o.filter;return[t("div",{staticClass:"full-width row flex-center text-red-8 q-gutter-sm",staticStyle:{"font-size":"1rem"}},[t("q-icon",{attrs:{size:"2em",name:"sentiment_dissatisfied"}}),t("span",[e._v(e._s(i))]),t("q-icon",{attrs:{size:"2em",name:r?"filter_b_and_w":a}})],1)]}},{key:"top-left",fn:function(){return[t("div",{staticClass:"row items-center"},[t("q-btn",{attrs:{size:"12px",color:"green",icon:"update",round:""},on:{click:e.recebeDadosTabela}},[t("q-tooltip",{attrs:{anchor:"bottom middle",self:"top middle",offset:[18,18],"content-style":"font-size: 14px"}},[e._v("Atualizar Tabela")])],1),t("div",{staticClass:"q-ml-md",staticStyle:{"font-size":"1.3rem"}},[e._v("Lista")])],1)]},proxy:!0},{key:"top-right",fn:function(){return[t("q-input",{staticClass:"q-ml-xs",attrs:{dense:"",placeholder:"Buscar serviço..."},scopedSlots:e._u([{key:"append",fn:function(){return[t("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filtroTabela,callback:function(o){e.filtroTabela=o},expression:"filtroTabela"}})]},proxy:!0},{key:"body-cell-createdAt",fn:function(o){return[t("q-td",{key:"createdAt",attrs:{props:o}},[e._v(e._s(new Date(o.row.createdAt).toLocaleDateString("pt-BR")))])]}},{key:"body-cell-valor",fn:function(o){return[t("q-td",{key:"valor",attrs:{props:o}},[e._v("R$ "+e._s(o.row.valor.toFixed(2)))])]}},{key:"body-cell-acoes",fn:function(o){return[t("q-td",{key:"acoes",attrs:{props:o}},[t("q-btn-dropdown",{attrs:{color:"brown","dropdown-icon":"build",align:"center"}},[t("q-list",[t("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){return e.abreModalVisualizacao(o.row)}}},[t("q-item-section",{attrs:{avatar:""}},[t("q-avatar",{attrs:{icon:"visibility",color:"green","text-color":"white"}})],1),t("q-item-section",[t("q-item-label",[e._v("Visualizar")])],1),t("q-item-section",{attrs:{side:""}},[t("q-icon",{attrs:{name:"check_circle",color:"green"}})],1)],1),t("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){return e.deletaServico(o.row.id)}}},[t("q-item-section",{attrs:{avatar:""}},[t("q-avatar",{attrs:{icon:"delete",color:"red","text-color":"white"}})],1),t("q-item-section",[t("q-item-label",[e._v("Deletar")])],1),t("q-item-section",{attrs:{side:""}},[t("q-icon",{attrs:{name:"clear",color:"red"}})],1)],1),t("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){return e.abreModalAlteracao(o.row)}}},[t("q-item-section",{attrs:{avatar:""}},[t("q-avatar",{attrs:{icon:"create",color:"secondary","text-color":"white"}})],1),t("q-item-section",[t("q-item-label",[e._v("Editar")])],1),t("q-item-section",{attrs:{side:""}},[t("q-icon",{attrs:{name:"border_color",color:"secondary"}})],1)],1)],1)],1)],1)]}}])})],1)],1),t("q-footer",{staticClass:"transparent"},[t("div",{staticClass:"row justify-center q-mb-md"},[t("q-btn",{attrs:{color:"red",icon:"close",label:"Fechar"},on:{click:e.exibeModalServico}})],1)]),t("DadosServico",{ref:"dadosServico",on:{atualizaTabela:e.recebeDadosTabela}})],1)],1)},Ct=[],wt=function e(){L()(this,e),z()(this,"Descricao",""),z()(this,"Valor","")},St=function e(){L()(this,e),z()(this,"Id",""),z()(this,"Descricao",""),z()(this,"Valor","")},kt=function(){var e=this,o=e.$createElement,a=e._self._c||o;return a("q-dialog",{attrs:{persistent:""},model:{value:e.exibeModal,callback:function(o){e.exibeModal=o},expression:"exibeModal"}},[a("q-layout",{staticClass:"bg-dark",staticStyle:{height:"200px"},attrs:{view:"Lhh lpR fff",container:""}},[a("q-header",{staticClass:"row bg-dark",staticStyle:{padding:"5px"}},[a("q-img",{staticStyle:{width:"35px"},attrs:{src:t("15a4"),alt:"Bigode"}}),a("q-toolbar-title",{staticClass:"q-mt-xs",staticStyle:{"font-size":"1.2rem","font-family":"cursive"}},[e._v(e._s(e.tituloModal))]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",dense:"",icon:"close",align:"right"}})],1),a("q-page-container",{staticClass:"row col-12"},[a("div",{staticClass:"col-md-2 col-xs-12",staticStyle:{padding:"5px"}},[a("q-input",{attrs:{readonly:"",color:"brown","bg-color":"white",filled:"",label:"ID"},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"fingerprint",color:"brown"}})]},proxy:!0}]),model:{value:e.idServico,callback:function(o){e.idServico=o},expression:"idServico"}})],1),a("div",{staticClass:"col-md-6 col-xs-12",staticStyle:{padding:"5px"}},[a("q-input",{attrs:{error:e.erroDescricao,"error-message":e.erroMSGDescricao,readonly:e.somenteLeitura,color:"black","bg-color":"white",filled:"",label:"Descrição"},on:{click:e.focusDescricaoServico},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"construction",color:"brown"}})]},proxy:!0},{key:"append",fn:function(){return[a("q-icon",{directives:[{name:"show",rawName:"v-show",value:0==e.somenteLeitura,expression:"somenteLeitura == false"}],attrs:{name:"close"},on:{click:function(o){e.descricaoServico=""}}})]},proxy:!0}]),model:{value:e.descricaoServico,callback:function(o){e.descricaoServico=o},expression:"descricaoServico"}})],1),a("div",{staticClass:"col-md-4 col-xs-12",staticStyle:{padding:"5px"}},[a("q-input",{attrs:{error:e.erroValor,"error-message":e.erroMSGValor,readonly:e.somenteLeitura,color:"black","bg-color":"white",filled:"",label:"Valor"},on:{click:e.focusValorServico},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"attach_money",color:"brown"}})]},proxy:!0},{key:"append",fn:function(){return[a("q-icon",{directives:[{name:"show",rawName:"v-show",value:0==e.somenteLeitura,expression:"somenteLeitura == false"}],attrs:{name:"close"},on:{click:function(o){e.valorServico=""}}})]},proxy:!0}]),model:{value:e.valorServico,callback:function(o){e.valorServico=o},expression:"valorServico"}})],1)]),a("q-footer",{staticClass:"transparent q-mb-sm"},[a("div",{staticClass:"row justify-center"},[a("q-btn",{directives:[{name:"show",rawName:"v-show",value:1==e.modalAlteracao,expression:"modalAlteracao == true"}],attrs:{icon:"save",label:"Alterar",color:"green"},on:{click:e.alterarServico}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{icon:"close",label:"Fechar",color:"red"},on:{click:e.fechaModal}})],1)])],1)],1)},Tt=[],Mt={name:"DadosServico",data:function(){return{exibeModal:!1,somenteLeitura:!1,modalAlteracao:!1,erroDescricao:!1,erroValor:!1,erroMSGDescricao:"",erroMSGValor:"",tituloModal:"",idServico:"",descricaoServico:"",valorServico:""}},methods:{abreModalVisualizacao:function(e,o){this.exibeModal=!this.exibeModal,this.somenteLeitura=!0,this.modalAlteracao=!1,this.idServico=o.id,this.descricaoServico=o.descricao,this.valorServico="R$ "+o.valor.toFixed(2),this.tituloModal=e},abreModalAlteracao:function(e,o){this.exibeModal=!this.exibeModal,this.somenteLeitura=!1,this.modalAlteracao=!0,this.idServico=o.id,this.descricaoServico=o.descricao,this.valorServico="R$ "+o.valor.toFixed(2),this.tituloModal=e},confirmacao:function(e){var o=this;return new Promise((function(t,a){o.$q.dialog({dark:!0,title:"Tem certeza que deseja ".concat(e," o Serviço ?"),cancel:"Sair",persistent:!0}).onOk((function(){t()}))}))},alterarServico:function(){var e=this;this.validaCampos().then((function(){e.confirmacao("alterar").then((function(){var o=new St;o.Id=Number(e.idServico),o.Descricao=e.descricaoServico,o.Valor=parseFloat(e.valorServico),e.$q.notify({message:"Carregando...",color:"primary",timeout:2e3}),setTimeout((function(){k("v1/servico/"+e.idServico,o).then((function(o){1==o.data.status?e.$q.notify({message:o.data.msg,color:"green",timeout:2e3}):e.$q.notify({message:o.data.msg,color:"red",timeout:2e3}),e.limparCampos(),e.fechaModal(),e.$emit("atualizaTabela")})).catch((function(e){console.log(e.message)}))}),1e3)}))}))},fechaModal:function(){this.exibeModal=!this.exibeModal},focusDescricaoServico:function(){!1===this.modalAlteracao?this.descricaoServico=this.descricaoServico:this.descricaoServico=null},focusValorServico:function(){!1===this.modalAlteracao?this.valorServico=this.valorServico:this.valorServico=null},limparCampos:function(){this.idServico=null,this.descricaoServico=null,this.valorServico=null},validaCampos:function(){var e=this;return new Promise((function(o){var t=!1;""===e.descricaoServico||null===e.descricaoServico?(e.erroDescricaoServico=!0,e.erroMSGDescricao="Este campo é obrigatório",t=!0):t=!1,""===e.valorServico||null===e.valorServico?(e.erroValorServico=!0,e.erroMSGValor="Este campo é obrigatório",t=!0):t=!1,!1===t&&o(!0)}))}}},_t=Mt,Dt=Object(_["a"])(_t,kt,Tt,!1,null,null,null),It=Dt.exports;ie()(Dt,"components",{QDialog:H["a"],QLayout:U["a"],QHeader:W["a"],QImg:ce["a"],QToolbarTitle:Y["a"],QBtn:K["a"],QPageContainer:X["a"],QInput:Z["a"],QIcon:ee["a"],QFooter:oe["a"]}),ie()(Dt,"directives",{ClosePopup:te["a"]});var Qt={name:"ModalServico",components:{DadosServico:It},data:function(){return{carregando:!1,exibeModal:!1,erroDescricaoServico:!1,erroValorServico:!1,desabilitarBotao:!1,dados:[],totalLinhasTabela:[6],erroMSGDescricao:"",erroMSGValor:"",descricaoServico:"",valorServico:"",filtroTabela:"",colunas:[{name:"id",align:"right",label:"ID",field:"id",sortable:!0,headerClasses:"bg-dark text-white"},{name:"descricao",align:"left",label:"Descrição",field:"descricao",sortable:!0,headerClasses:"bg-dark text-white"},{name:"createdAt",align:"left",label:"Data de Inclusão",sortable:!0,headerClasses:"bg-dark text-white"},{name:"valor",align:"right",label:"Valor",sortable:!0,headerClasses:"bg-dark text-white"},{name:"acoes",align:"right",label:"Ações",sortable:!0,headerClasses:"bg-dark text-white"}]}},methods:{abreModalVisualizacao:function(e){this.$refs.dadosServico.abreModalVisualizacao("Visualização",e)},abreModalAlteracao:function(e){this.$refs.dadosServico.abreModalAlteracao("Alteração",e)},exibeModalServico:function(){this.exibeModal=!this.exibeModal},recebeDadosTabela:function(){var e=this;this.carregando=!0,w("v1/servico").then((function(o){e.dados=o.data,e.carregando=!1})).catch((function(o){console.log(o),e.carregando=!1}))},limparCampos:function(){this.descricaoServico=null,this.valorServico=null},confirmacao:function(e){var o=this;return new Promise((function(t,a){o.$q.dialog({dark:!0,title:"Tem certeza que deseja ".concat(e," o Serviço ?"),cancel:"Sair",persistent:!0}).onOk((function(){t()}))}))},validaCampos:function(){var e=this;return new Promise((function(o){var t=!1;""===e.descricaoServico||null===e.descricaoServico?(e.erroDescricaoServico=!0,e.erroMSGDescricao="Este campo é obrigatório",t=!0):t=!1,""===e.valorServico||null===e.valorServico?(e.erroValorServico=!0,e.erroMSGValor="Este campo é obrigatório",t=!0):t=!1,!1===t&&o(!0)}))},deletaServico:function(e){var o=this;this.confirmacao("excluir").then((function(){o.$q.notify({message:"Carregando...",color:"primary",timeout:2e3}),setTimeout((function(){S("v1/servico/"+e).then((function(e){1==e.data.status?o.$q.notify({message:e.data.msg,color:"green",timeout:2e3}):o.$q.notify({message:e.data.msg,color:"red",timeout:2e3}),o.recebeDadosTabela()})).catch((function(e){console.log(e)}))}),1e3)}))},insereNovoServico:function(){var e=this;this.validaCampos().then((function(){e.confirmacao("incluir").then((function(){e.desabilitarBotao=!0;var o=new wt;o.Descricao=e.descricaoServico.toUpperCase(),o.Valor=e.valorServico,e.$q.notify({message:"Carregando...",color:"primary",timeout:1e3}),setTimeout((function(){C("v1/servico",o).then((function(o){1==o.data.status?e.$q.notify({message:o.data.msg,color:"green",timeout:2e3}):e.$q.notify({message:o.data.msg,color:"red",timeout:2e3}),e.desabilitarBotao=!1,e.limparCampos(),e.recebeDadosTabela()})).catch((function(e){console.log(e)}))}),1e3)}))}))}},beforeMount:function(){this.recebeDadosTabela()}},At=Qt,Ft=Object(_["a"])(At,Pt,Ct,!1,null,"6111dc7c",null),Nt=Ft.exports;ie()(Ft,"components",{QDialog:H["a"],QLayout:U["a"],QHeader:W["a"],QToolbarTitle:Y["a"],QPageContainer:X["a"],QPage:J["a"],QInput:Z["a"],QIcon:ee["a"],QSpace:Oo["a"],QBtn:K["a"],QTable:Be["a"],QTooltip:je["a"],QTd:Ee["a"],QBtnDropdown:Go["a"],QList:Ho["a"],QItem:_o["a"],QItemSection:Do["a"],QAvatar:Pe["a"],QItemLabel:Uo["a"],QFooter:oe["a"]}),ie()(Ft,"directives",{ClosePopup:te["a"]});var Lt=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("q-dialog",{attrs:{persistent:""},model:{value:e.exibeModal,callback:function(o){e.exibeModal=o},expression:"exibeModal"}},[t("q-layout",{staticClass:"bg-brown",attrs:{view:"Lhh lpR fff",container:""}},[t("q-header",{staticClass:"bg-dark",staticStyle:{padding:"5px"}},[t("q-toolbar-title",{staticClass:"col-12"},[e._v("Forma de Pagamento")])],1),t("q-page-container",[t("q-page",{staticStyle:{padding:"10px"}},[t("div",{staticClass:"row"},[t("q-input",{staticClass:"col-md-7 col-xs-12",attrs:{error:e.erroDescricao,"error-message":e.erroMSGDescricao,"bg-color":"white",color:"dark","label-color":"dark",filled:"",label:"Descrição"},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"credit_card",color:"brown"}})]},proxy:!0}]),model:{value:e.descricaoFormaPagamento,callback:function(o){e.descricaoFormaPagamento=o},expression:"descricaoFormaPagamento"}}),t("q-space"),t("q-input",{staticClass:"col-md-3 col-xs-12",attrs:{error:e.erroTitulo,"error-message":e.erroMSGTitulo,"bg-color":"white",color:"dark","label-color":"dark",filled:"",label:"Título"},scopedSlots:e._u([{key:"prepend",fn:function(){return[t("q-icon",{attrs:{name:"request_quote",color:"brown"}})]},proxy:!0}]),model:{value:e.tituloFormaPagamento,callback:function(o){e.tituloFormaPagamento=o},expression:"tituloFormaPagamento"}}),t("q-space"),t("div",{staticClass:"row justify-center"},[t("q-btn",{staticClass:"col-md-1 col-xs-12",staticStyle:{width:"55px",height:"55px"},attrs:{disable:e.desabilitarBotao,color:"green",icon:"add"},on:{click:e.insereFormaPagamento}})],1)],1),t("q-table",{attrs:{dense:"",title:"Lista",separator:"cell",loading:e.carregando,"rows-per-page-options":e.totalLinhasTabela,filter:e.filtroTabela,data:e.dados,columns:e.colunas},scopedSlots:e._u([{key:"no-data",fn:function(o){var a=o.icon,i=o.message,r=o.filter;return[t("div",{staticClass:"full-width row flex-center text-red-8 q-gutter-sm",staticStyle:{"font-size":"1rem"}},[t("span",[e._v(e._s(i))]),t("q-icon",{attrs:{size:"2em",name:r?"filter_b_and_w":a}})],1)]}},{key:"top-left",fn:function(){return[t("div",{staticClass:"row items-center"},[t("q-btn",{attrs:{size:"12px",color:"green",icon:"update",round:""},on:{click:e.recebeDadosTabela}},[t("q-tooltip",{attrs:{anchor:"bottom middle",self:"top middle",offset:[18,18],"content-style":"font-size: 14px"}},[e._v("Atualizar Tabela")])],1),t("div",{staticClass:"q-ml-md",staticStyle:{"font-size":"1.3rem"}},[e._v("Lista")])],1)]},proxy:!0},{key:"body-cell-dataInclusao",fn:function(o){return[t("q-td",{key:"dataInclusao",attrs:{props:o}},[e._v(e._s(new Date(o.row.createdAt).toLocaleDateString("pt-BR")))])]}},{key:"body-cell-acoes",fn:function(o){return[t("q-td",{key:"acoes",attrs:{props:o}},[t("q-btn-dropdown",{attrs:{color:"brown","dropdown-icon":"build",align:"center"}},[t("q-list",[t("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){return e.deletaFormaPagamento(o.row.id)}}},[t("q-item-section",{attrs:{avatar:""}},[t("q-avatar",{attrs:{icon:"delete",color:"red","text-color":"white"}})],1),t("q-item-section",[t("q-item-label",[e._v("Deletar")])],1),t("q-item-section",{attrs:{side:""}},[t("q-icon",{attrs:{name:"clear",color:"red"}})],1)],1),t("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){return e.exibeModalAlteracao(o.row)}}},[t("q-item-section",{attrs:{avatar:""}},[t("q-avatar",{attrs:{icon:"create",color:"secondary","text-color":"white"}})],1),t("q-item-section",[t("q-item-label",[e._v("Editar")])],1),t("q-item-section",{attrs:{side:""}},[t("q-icon",{attrs:{name:"border_color",color:"secondary"}})],1)],1)],1)],1)],1)]}}])})],1)],1),t("q-footer",{staticClass:"transparent",attrs:{reveal:""}},[t("div",{staticClass:"row justify-center q-mb-sm"},[t("q-btn",{attrs:{color:"red",icon:"close",label:"Fechar"},on:{click:e.exibeModalFormaPagamento}})],1)]),t("FormaPagamento",{ref:"formaPagamento",on:{atualizaTabela:e.recebeDadosTabela}})],1)],1)},$t=[],zt=function e(){L()(this,e),z()(this,"Descricao",""),z()(this,"Titulo","")},Vt=function e(){L()(this,e),z()(this,"Id",""),z()(this,"Descricao",""),z()(this,"Titulo","")},Ot=function(){var e=this,o=e.$createElement,a=e._self._c||o;return a("q-dialog",{attrs:{persistent:""},model:{value:e.exibeModal,callback:function(o){e.exibeModal=o},expression:"exibeModal"}},[a("q-layout",{staticClass:"bg-brown",staticStyle:{height:"230px"},attrs:{view:"Lhh lpR fff",container:""}},[a("q-header",{staticClass:"row bg-dark",staticStyle:{padding:"5px"}},[a("q-img",{staticStyle:{width:"35px"},attrs:{src:t("15a4"),alt:"Bigode"}}),a("q-toolbar-title",{staticClass:"q-mt-xs",staticStyle:{"font-size":"1.2rem","font-family":"cursive"}},[e._v(e._s(e.tituloModal))]),a("q-btn",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{flat:"",dense:"",icon:"close",align:"right"}})],1),a("q-page-container",{staticClass:"row col-12"},[a("q-page",{staticClass:"row",attrs:{padding:""}},[a("div",{staticClass:"col-md-2 col-xs-12",staticStyle:{padding:"5px"}},[a("q-input",{attrs:{readonly:"",color:"brown","bg-color":"white",filled:"",label:"ID"},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"fingerprint",color:"brown"}})]},proxy:!0}]),model:{value:e.formaPagamentoID,callback:function(o){e.formaPagamentoID=o},expression:"formaPagamentoID"}})],1),a("div",{staticClass:"col-md-6 col-xs-12",staticStyle:{padding:"5px"}},[a("q-input",{attrs:{error:e.erroDescricao,"error-message":e.erroMSGDescricao,color:"brown","bg-color":"white",filled:"",label:"Descrição"},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"credit_card",color:"brown"}})]},proxy:!0},{key:"append",fn:function(){return[a("q-icon",{directives:[{name:"show",rawName:"v-show",value:0==e.somenteLeitura,expression:"somenteLeitura == false"}],attrs:{name:"close"},on:{click:function(o){e.descricaoFormaPagamento=""}}})]},proxy:!0}]),model:{value:e.descricaoFormaPagamento,callback:function(o){e.descricaoFormaPagamento=o},expression:"descricaoFormaPagamento"}})],1),a("div",{staticClass:"col-md-4 col-xs-12",staticStyle:{padding:"5px"}},[a("q-input",{attrs:{error:e.erroTituloFormaPagamento,"error-message":e.erroMSGTituloFormaPagamento,color:"black","bg-color":"white",filled:"",label:"Título"},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("q-icon",{attrs:{name:"request_quote",color:"brown"}})]},proxy:!0},{key:"append",fn:function(){return[a("q-icon",{directives:[{name:"show",rawName:"v-show",value:0==e.somenteLeitura,expression:"somenteLeitura == false"}],attrs:{name:"close"},on:{click:function(o){e.tituloFormaPagamento=""}}})]},proxy:!0}]),model:{value:e.tituloFormaPagamento,callback:function(o){e.tituloFormaPagamento=o},expression:"tituloFormaPagamento"}})],1)])],1),a("q-footer",{staticClass:"transparent q-mb-sm"},[a("div",{staticClass:"row justify-center"},[a("q-btn",{attrs:{icon:"save",label:"Alterar",color:"green"},on:{click:e.alterarFormaPagamento}}),a("q-btn",{staticClass:"q-ml-sm",attrs:{icon:"close",label:"Fechar",color:"red"},on:{click:e.fecharModal}})],1)])],1)],1)},jt=[],Bt={name:"Forma_Pagamento",data:function(){return{exibeModal:!1,somenteLeitura:!1,erroDescricao:!1,erroTituloFormaPagamento:!1,erroMSGDescricao:"",erroMSGTituloFormaPagamento:"",formaPagamentoID:"",descricaoFormaPagamento:"",tituloFormaPagamento:"",tituloModal:""}},methods:{exibeModalFormaPagamento:function(e,o){this.exibeModal=!this.exibeModal,this.tituloModal=e,this.formaPagamentoID=o.id,this.descricaoFormaPagamento=o.descricao,this.tituloFormaPagamento=o.titulo},confirmacao:function(e){var o=this;return new Promise((function(t){o.$q.dialog({dark:!0,title:e,cancel:"Sair",persistent:!0}).onOk((function(){t()}))}))},validaCampos:function(){var e=this;return new Promise((function(o){var t=!1;""===e.descricaoFormaPagamento||null===e.descricaoFormaPagamento?(e.erroDescricao=!0,e.erroMSGDescricao='O Campo "Descrição" é obrigatório!',t=!0):(e.erroDescricao=!1,t=!1),""===e.tituloFormaPagamento||null===e.tituloFormaPagamento?(e.erroTituloFormaPagamento=!0,e.erroMSGTituloFormaPagamento='O Campo "Valor" é obrigatório!',t=!0):(e.erroTituloFormaPagamento=!1,t=!1),!1===t&&o(!0)}))},fecharModal:function(){this.exibeModal=!this.exibeModal},limparCampos:function(){this.descricaoFormaPagamento=null,this.tituloFormaPagamento=null,this.formaPagamentoID=null},alterarFormaPagamento:function(){var e=this;this.confirmacao("Deseja fazer a alteração da Forma de Pagamento ?").then((function(){e.validaCampos().then((function(){e.$q.notify({message:"Alterando...",color:"primary",timeout:1e3}),setTimeout((function(){var o=new Vt,t=e.formaPagamentoID,a=e.tituloFormaPagamento;o.Id=parseInt(t),o.Descricao=e.descricaoFormaPagamento,o.Titulo=a.toUpperCase(),k("v1/formapagamento/"+e.formaPagamentoID,o).then((function(o){1==o.data.status?(e.$q.notify({message:o.data.msg,color:"green",timeout:2e3}),e.limparCampos(),e.fecharModal(),e.$emit("atualizaTabela")):e.$q.notify({message:o.data.msg,color:"red",timeout:2e3})})).catch((function(o){console.log(o.message),e.$q.notify({message:"Erro ao fazer alteração, tente novamente mais tarde",color:"red",timeout:2e3})}))}),1e3)}))}))}}},Et=Bt,Rt=Object(_["a"])(Et,Ot,jt,!1,null,null,null),Gt=Rt.exports;ie()(Rt,"components",{QDialog:H["a"],QLayout:U["a"],QHeader:W["a"],QImg:ce["a"],QToolbarTitle:Y["a"],QBtn:K["a"],QPageContainer:X["a"],QPage:J["a"],QInput:Z["a"],QIcon:ee["a"],QFooter:oe["a"]}),ie()(Rt,"directives",{ClosePopup:te["a"]});var Ht={name:"Forma-Pagamento",components:{FormaPagamento:Gt},data:function(){return{totalLinhasTabela:[5],dados:[],colunas:[{name:"id",align:"right",label:"Id",field:"id",sortable:!0,headerClasses:"bg-dark text-white text-bold"},{name:"descricao",align:"left",label:"Descrição",field:"descricao",sortable:!0,headerClasses:"bg-dark text-white text-bold"},{name:"titulo",align:"left",label:"Título",field:"titulo",sortable:!0,headerClasses:"bg-dark text-white text-bold"},{name:"dataInclusao",align:"left",label:"Data Inclusão",sortable:!0,headerClasses:"bg-dark text-white text-bold"},{name:"acoes",align:"center",label:"Ações",headerClasses:"bg-dark text-white text-bold"}],exibeModal:!1,erroDescricao:!1,erroTitulo:!1,desabilitarBotao:!1,carregando:!1,filtroTabela:"",erroMSGDescricao:"",erroMSGTitulo:"",descricaoFormaPagamento:"",tituloFormaPagamento:""}},methods:{exibeModalFormaPagamento:function(){this.exibeModal=!this.exibeModal,this.limparCampos()},exibeModalAlteracao:function(e){this.$refs.formaPagamento.exibeModalFormaPagamento("Alteração",e)},recebeDadosTabela:function(){var e=this;this.carregando=!0,w("v1/formapagamento").then((function(o){e.dados=o.data,e.carregando=!1})).catch((function(o){console.log(o),e.carregando=!1}))},confirmacao:function(e){var o=this;return new Promise((function(t,a){o.$q.dialog({dark:!0,title:e,cancel:"Sair",persistent:!0}).onOk((function(){t()}))}))},validaCampos:function(){var e=this;return new Promise((function(o){var t=!1;""===e.descricaoFormaPagamento||null===e.descricaoFormaPagamento?(e.erroDescricao=!0,e.erroMSGDescricao='O Campo "Descrição" é obrigatório!',t=!0):(e.erroDescricao=!1,t=!1),""===e.tituloFormaPagamento||null===e.tituloFormaPagamento?(e.erroTitulo=!0,e.erroMSGTitulo='O Campo "Valor" é obrigatório!',t=!0):(e.erroTitulo=!1,t=!1),!1===t&&o(!0)}))},limparCampos:function(){this.descricaoFormaPagamento=null,this.tituloFormaPagamento=null},deletaFormaPagamento:function(e){var o=this;this.confirmacao("Tem certeza que deseja excluir essa forma de pagamento ?").then((function(){o.$q.notify({message:"Excluindo...",color:"primary",timeout:1e3}),setTimeout((function(){S("v1/formapagamento/"+e).then((function(e){1==e.data.status?(o.$q.notify({message:e.data.msg,color:"green",timeout:2e3}),o.limparCampos(),o.recebeDadosTabela()):o.$q.notify({message:e.data.msg,color:"red",timeout:2e3})})).catch((function(e){o.$q.notify({message:"Não foi possível fazer a exclusão, tente novamente mais tarde",color:"red",timeout:2e3})}))}),1e3)}))},insereFormaPagamento:function(){var e=this;this.confirmacao("Tem certeza que deseja inserir essa forma de pagamento ?").then((function(){e.validaCampos().then((function(){e.$q.notify({message:"Incluindo...",color:"primary",timeout:1e3}),setTimeout((function(){var o=e.tituloFormaPagamento,t=e.descricaoFormaPagamento,a=new zt;a.Descricao=t.toUpperCase(),a.Titulo=o.toUpperCase(),C("v1/formapagamento",a).then((function(o){1==o.data.status?(e.$q.notify({message:o.data.msg,color:"green",timeout:2e3}),e.limparCampos(),e.recebeDadosTabela()):e.$q.notify({message:o.data.msg,color:"red",timeout:2e3})})).catch((function(o){e.$q.notify({message:"Não foi possível fazer inclusão, tente novamente mais tarde",color:"red",timeout:2e3})}))}),1e3)}))}))}},created:function(){this.recebeDadosTabela()}},Ut=Ht,Wt=Object(_["a"])(Ut,Lt,$t,!1,null,null,null),Yt=Wt.exports;ie()(Wt,"components",{QDialog:H["a"],QLayout:U["a"],QHeader:W["a"],QToolbarTitle:Y["a"],QPageContainer:X["a"],QPage:J["a"],QInput:Z["a"],QIcon:ee["a"],QSpace:Oo["a"],QBtn:K["a"],QTable:Be["a"],QTooltip:je["a"],QTd:Ee["a"],QBtnDropdown:Go["a"],QList:Ho["a"],QItem:_o["a"],QItemSection:Do["a"],QAvatar:Pe["a"],QItemLabel:Uo["a"],QFooter:oe["a"]}),ie()(Wt,"directives",{ClosePopup:te["a"]});var Kt=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("q-table",{attrs:{separator:"cell","no-data-label":e.MensagemTabelaSemDados,loading:e.carregando,"rows-per-page-options":e.maximoLinhas,filter:e.filtroBuscar,data:e.dados,columns:e.colunas},scopedSlots:e._u([{key:"no-data",fn:function(o){var a=o.icon,i=o.message,r=o.filter;return[t("div",{staticClass:"full-width row flex-center text-red-8 q-gutter-sm",staticStyle:{"font-size":"1rem"}},[t("q-icon",{attrs:{size:"2em",name:"sentiment_dissatisfied"}}),t("span",[e._v(e._s(i))]),t("q-icon",{attrs:{size:"2em",name:r?"filter_b_and_w":a}})],1)]}},{key:"top-left",fn:function(){return[t("div",{staticClass:"row items-center"},[t("q-btn",{attrs:{size:"12px",color:"green",icon:"update",round:""},on:{click:function(o){return e.recebeDadosTabela(e.tipoTabela)}}},[t("q-tooltip",{attrs:{anchor:"bottom middle",self:"top middle",offset:[18,18],"content-style":"font-size: 14px"}},[e._v("Atualizar Tabela")])],1),t("div",{staticClass:"q-ml-md tituloTabela"},[e._v(e._s(e.tituloTabela))])],1)]},proxy:!0},{key:"top-right",fn:function(){return[t("div",{directives:[{name:"show",rawName:"v-show",value:1==e.botaoAdicionarVisivel,expression:"botaoAdicionarVisivel == true"}]},[t("q-btn",{staticClass:"botaoAdicionar",attrs:{rounded:"",color:"teal",icon:"add"},on:{click:e.AbreModalInclusao}},[t("q-tooltip",{attrs:{anchor:"bottom middle",self:"top middle",offset:[18,18],"content-style":"font-size: 14px"}},[e._v("Adicionar Novo Atendimento")])],1)],1),t("q-input",{staticClass:"row justify-center inputPesquisa",attrs:{dense:"",placeholder:"Pesquisar..."},scopedSlots:e._u([{key:"append",fn:function(){return[t("q-icon",{attrs:{name:"search"}})]},proxy:!0}]),model:{value:e.filtroBuscar,callback:function(o){e.filtroBuscar=o},expression:"filtroBuscar"}})]},proxy:!0},{key:"body-cell-showme",fn:function(o){return[t("q-td",{key:"showme",attrs:{props:o}},[1==o.row.situacaoId?t("q-btn",{staticClass:"q-mr-sm",attrs:{icon:"content_cut",dense:"",color:"primary",props:o,size:"10px"},on:{click:function(t){return e.AcaoBotaoInclusao(o.row)}}},[t("q-tooltip",{attrs:{"content-style":"font-size: 12px","transition-show":"flip-right","transition-hide":"flip-left"}},[e._v("Inserir Item no Atendimento - N°"+e._s(o.row.id))])],1):e._e(),2==o.row.situacaoId?t("q-btn",{staticClass:"q-mr-sm",attrs:{icon:"content_cut",dense:"",color:"green",props:o,size:"10px"},on:{click:function(t){return e.AcaoBotaoInclusao(o.row)}}},[t("q-tooltip",{attrs:{"content-style":"font-size: 12px","transition-show":"flip-right","transition-hide":"flip-left"}},[e._v("A Receber do Atendimento - N°"+e._s(o.row.id))])],1):e._e(),3==o.row.situacaoId?t("q-btn",{staticClass:"q-mr-sm",attrs:{icon:"done",dense:"",color:"red",props:o,size:"10px"}},[t("q-tooltip",{attrs:{"content-style":"font-size: 12px","transition-show":"flip-right","transition-hide":"flip-left"}},[e._v("Atendimento - N°"+e._s(o.row.id)+" finalizado")])],1):e._e(),4==o.row.situacaoId?t("q-btn",{staticClass:"q-mr-sm",attrs:{icon:"clear",dense:"",color:"yellow",props:o,size:"10px"}},[t("q-tooltip",{attrs:{"content-style":"font-size: 12px","transition-show":"flip-right","transition-hide":"flip-left"}},[e._v("Atendimento - N°"+e._s(o.row.id)+" cancelado")])],1):e._e()],1)]}},{key:"body-cell-situacao",fn:function(o){return[t("q-td",{key:"situacao",attrs:{props:o}},[1==o.row.situacaoId?t("div",[t("q-btn",{staticClass:"q-mr-sm",attrs:{icon:"iens",round:"",dense:"",color:"primary",props:o,size:"10px"}},[t("q-tooltip",{attrs:{"content-style":"font-size: 14px","transition-show":"flip-right","transition-hide":"flip-left"}},[e._v("Situação: "+e._s(o.row.situacao.descricao))])],1)],1):e._e(),2==o.row.situacaoId?t("div",[t("q-btn",{staticClass:"q-mr-sm",attrs:{icon:"iens",round:"",dense:"",color:"green",props:o,size:"10px"}},[t("q-tooltip",{attrs:{"content-style":"font-size: 14px","transition-show":"flip-right","transition-hide":"flip-left"}},[e._v("Situação: "+e._s(o.row.situacao.descricao))])],1)],1):e._e(),3==o.row.situacaoId?t("div",[t("q-btn",{staticClass:"q-mr-sm",attrs:{icon:"iens",round:"",dense:"",color:"red",props:o,size:"10px"}},[t("q-tooltip",{attrs:{"content-style":"font-size: 14px","transition-show":"flip-right","transition-hide":"flip-left"}},[e._v("Situação: "+e._s(o.row.situacao.descricao))])],1)],1):e._e(),4==o.row.situacaoId?t("div",[t("q-btn",{staticClass:"q-mr-sm",attrs:{icon:"iens",round:"",dense:"",color:"yellow",props:o,size:"10px"}},[t("q-tooltip",{attrs:{"content-style":"font-size: 14px","transition-show":"flip-right","transition-hide":"flip-left"}},[e._v("Situação: "+e._s(o.row.situacao.descricao))])],1)],1):e._e()])]}},{key:"body-cell-cliente",fn:function(o){return[t("q-td",{key:"cliente",attrs:{props:o}},[e._v(e._s(o.row.cliente.nome))])]}},{key:"body-cell-celular",fn:function(o){return[t("q-td",{key:"celular",attrs:{props:o}},[e._v(e._s(o.row.cliente.telefoneCelular))])]}},{key:"body-cell-dataServico",fn:function(o){return[t("q-td",{key:"dataServico",attrs:{props:o}},[e._v(e._s(new Date(o.row.createdAt).toLocaleDateString("pt-BR"))+" - "+e._s(new Date(o.row.createdAt).toLocaleTimeString("pt-BR")))])]}},{key:"body-cell-profissional",fn:function(o){return[t("q-td",{key:"profissional",attrs:{props:o}},[e._v(e._s(o.row.profissional.nome))])]}},{key:"body-cell-acoes",fn:function(o){return[t("q-td",{key:"acoes",attrs:{props:o}},[t("q-btn-dropdown",{attrs:{color:"brown","dropdown-icon":"build",align:"center"}},[t("q-list",[3==o.row.situacaoId?t("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){return e.ExibeModalVisualizacao(o.row)}}},[t("q-item-section",{attrs:{avatar:""}},[t("q-avatar",{attrs:{icon:"remove_red_eye",color:"primary","text-color":"white"}})],1),t("q-item-section",[t("q-item-label",[e._v("Visualizar")])],1),t("q-item-section",{attrs:{side:""}},[t("q-icon",{attrs:{name:"open_in_new",color:"blue"}})],1)],1):e._e(),t("q-item",{directives:[{name:"close-popup",rawName:"v-close-popup"}],attrs:{clickable:""},on:{click:function(t){return e.desativaAtendimento(o.row.id)}}},[t("q-item-section",{attrs:{avatar:""}},[t("q-avatar",{attrs:{icon:"delete",color:"red","text-color":"white"}})],1),t("q-item-section",[t("q-item-label",[e._v("Deletar")])],1),t("q-item-section",{attrs:{side:""}},[t("q-icon",{attrs:{name:"clear",color:"red"}})],1)],1)],1)],1)],1)]}}])})},Xt=[],Jt={name:"Tabela-Atendimento",props:{ExibeModalInclusao:Function,ExibeModalVisualizacao:Function,MaximoLinha:Array,TipoTabela:String,MensagemTabelaSemDados:String,TituloTabela:String,FiltroBusca:String,BotaoAdicionarVisivel:Boolean,TabelaFinalizado:Boolean,TabelaEmAberto:Boolean,TabelaFinanceiro:Boolean,AcaoBotaoInclusao:Function,AbreModalInclusao:Function},data:function(){return{tituloTabela:this.TituloTabela,maximoLinhas:this.MaximoLinha,filtroBuscar:this.FiltroBusca,botaoAdicionarVisivel:this.BotaoAdicionarVisivel,tipoTabela:this.TipoTabela,carregando:!1,dados:[],colunas:[{name:"showme",required:!0,label:"Inclusão",align:"center",classes:"bg-grey-2 text-dark",headerClasses:"bg-dark text-white"},{name:"id",required:!0,label:"ID",align:"right",field:"id",classes:"bg-grey-2 text-dark",headerClasses:"bg-dark text-white"},{name:"situacao",required:!0,label:"Situação",align:"center",classes:"bg-grey-2 text-dark",headerClasses:"bg-blue-10 text-white"},{name:"cliente",required:!0,label:"Cliente",align:"left",classes:"bg-grey-3 text-dark",headerClasses:"bg-grey-8 text-white"},{name:"celular",required:!0,label:"Celular",align:"left",classes:"bg-grey-3 text-dark",headerClasses:"bg-grey-8 text-white"},{name:"dataServico",required:!0,label:"Data do Serviço",align:"center",classes:"bg-grey-2 text-dark",headerClasses:"bg-dark text-white"},{name:"profissional",required:!0,label:"Profissional",align:"left",classes:"bg-grey-2 text-dark",headerClasses:"bg-dark text-white"},{name:"acoes",required:!0,label:"Opções",align:"center",classes:"bg-grey-2 text-dark",headerClasses:"bg-dark text-white"}]}},methods:{recebeDadosTabela:function(e){var o=this;"A"==e?(this.carregando=!0,1==this.TabelaEmAberto&&w("v1/atendimento/aberto").then((function(e){o.dados=e.data,o.carregando=!1}))):"B"==e?(this.carregando=!0,1==this.TabelaFinanceiro&&w("v1/atendimento/financeiro").then((function(e){o.dados=e.data,o.carregando=!1}))):"C"==e&&(this.carregando=!0,1==this.TabelaFinalizado&&w("v1/atendimento/finalizado").then((function(e){o.dados=e.data,o.carregando=!1})))},confirmacao:function(e){var o=this;return new Promise((function(t,a){o.$q.dialog({dark:!0,title:"Tem certeza que deseja excluir o Atendimento n°: "+e+"?",cancel:"Sair",persistent:!0}).onOk((function(){t()}))}))},abreRelatorioAtendimento:function(e){this.$router.push("/relatorio/"+e)},desativaAtendimento:function(e){var o=this;this.confirmacao(e).then((function(){o.$q.notify({message:"Deletando...",color:"primary",timeout:1e3}),setTimeout((function(){S("v1/atendimento/"+e).then((function(t){1==t.data.status?(o.$q.notify({message:t.data.msg,color:"green",timeout:2e3}),S("v1/itemformapagamento/"+e).then((function(e){1==e.data.status&&console.log("O.K, forma de pagamento excluído")})).catch((function(e){return console.log("Erro ao deletar item de pagamento")})),o.recebeDadosTabela(o.TipoTabela)):o.$q.notify({message:t.data.msg,color:"green",timeout:2e3}),o.recebeDadosTabela()})).catch((function(e){console.log(e)}))}),1e3)}))}},created:function(){this.recebeDadosTabela("A"),this.recebeDadosTabela("B"),this.recebeDadosTabela("C")}},Zt=Jt,ea=(t("8974"),Object(_["a"])(Zt,Kt,Xt,!1,null,"25d1c7b9",null)),oa=ea.exports;ie()(ea,"components",{QTable:Be["a"],QIcon:ee["a"],QBtn:K["a"],QTooltip:je["a"],QInput:Z["a"],QTd:Ee["a"],QBtnDropdown:Go["a"],QList:Ho["a"],QItem:_o["a"],QItemSection:Do["a"],QAvatar:Pe["a"],QItemLabel:Uo["a"]}),ie()(ea,"directives",{ClosePopup:te["a"]});var ta=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("q-dialog",{attrs:{persistent:"",maximized:"","full-height":""},model:{value:e.exibeModal,callback:function(o){e.exibeModal=o},expression:"exibeModal"}},[t("q-layout",{staticClass:"bg-dark",staticStyle:{height:"430px"},attrs:{view:"Lhh lpR fff",container:""}},[t("q-header",{staticClass:"row transparent",staticStyle:{padding:"3px"}},[t("q-toolbar-title",{staticStyle:{"text-align":"start","margin-left":"10px","font-size":"1.4rem"}},[e._v("Caixa de Hoje")]),t("q-btn",{attrs:{flat:"",dense:"",icon:"close",align:"right"},on:{click:e.fechaModal}})],1),t("q-page-container",[t("q-page",{staticStyle:{padding:"10px"}},[t("div",{staticClass:"row col-12 bg-white",staticStyle:{padding:"5px","border-radius":"5px"}},[t("label",{staticClass:"col-12 text-h6",staticStyle:{"text-align":"center"}},[e._v("Profissional")]),t("div",{staticClass:"col-md-6 col-xs-12",staticStyle:{padding:"5px"}},[t("TabelaCaixa",{attrs:{Titulo:"Serviço",Dados:e.dadosServico,TipoItem:"S"}})],1),t("div",{staticClass:"col-md-6 col-xs-12",staticStyle:{padding:"5px"}},[t("TabelaCaixa",{attrs:{Titulo:"Produto",Dados:e.dadosProduto,TipoItem:"P"}})],1)]),t("div",{staticClass:"col-12 q-mt-md"},[t("q-table",{attrs:{dense:"",separator:"cell",title:"Por Forma de Pagamento","rows-per-page-options":e.totalLinhas,data:e.dadosFormaPagamento,columns:e.colunasFormaPagamento},scopedSlots:e._u([{key:"body-cell-total",fn:function(o){return[t("q-td",{key:"total",attrs:{props:o}},[e._v("R$ "+e._s(o.row.total.toFixed(2)))])]}}])})],1),t("div",{staticClass:"col-12 q-mt-sm text-dark row justify-end"},[t("div",{staticClass:"column bg-white",staticStyle:{"border-radius":"10px"}},[t("q-card-section",{staticStyle:{height:"70px","padding-top":"10px"}},[t("div",{staticClass:"row justify-end"},[t("strong",[e._v("CAIXA TOTAL:")])]),t("div",{staticClass:"row col-12 items-center justify-end"},[t("q-icon",{attrs:{color:"green",name:"monetization_on",size:"22px"}}),t("div",{staticStyle:{"font-size":"20px"}},[e._v("R$ "+e._s(e.valorTotal.toFixed(2)))])],1)])],1)])])],1),t("q-footer",{staticClass:"transparent"},[t("div",{staticClass:"row justify-center q-mb-sm"},[t("q-btn",{attrs:{color:"red",icon:"close",label:"Fechar"},on:{click:e.fechaModal}})],1)])],1)],1)},aa=[],ia=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("q-table",{attrs:{dense:"",separator:"cell",title:e.tituloTabela,"rows-per-page-options":e.totalLinhas,data:e.dadosTabela,columns:e.colunasTabela},scopedSlots:e._u([{key:"body-cell-valor",fn:function(o){return[t("q-td",{key:"valor",attrs:{props:o}},[e._v("R$ "+e._s(o.row.valorTotal.toFixed(2)))])]}},{key:"body-cell-porcentagem",fn:function(o){return["S"===e.tipoItem?t("q-td",{key:"porcentagem",attrs:{props:o}},[e._v(e._s(100*o.row.porcentagemServico)+" %")]):t("q-td",{key:"porcentagem",attrs:{props:o}},[e._v(e._s(100*o.row.porcentagemProduto)+" %")])]}},{key:"body-cell-porcentagemtotal",fn:function(o){return[t("q-td",{key:"porcentagemtotal",attrs:{props:o}},[e._v("R$ "+e._s(o.row.totalGeral.toFixed(2)))])]}}])})},ra=[],na={name:"Tabela-Caixa",props:{Dados:Array,TipoItem:String,Titulo:String},data:function(){return{totalLinhas:[4],tipoItem:this.TipoItem,dadosTabela:this.Dados,tituloTabela:this.Titulo,colunasTabela:[{name:"id",required:!0,label:"ID",align:"right",field:"id",format:function(e){return"".concat(e)},sortable:!0,classes:"bg-grey-2 ellipsis",style:"max-width: 100px",headerClasses:"bg-green text-white"},{name:"nome",required:!0,label:"Nome",align:"left",field:"nome",format:function(e){return"".concat(e)},sortable:!0,classes:"bg-grey-2 ellipsis",style:"max-width: 100px",headerClasses:"bg-green text-white"},{name:"valor",required:!0,label:"Valor",align:"right",format:function(e){return"".concat(e)},sortable:!0,classes:"bg-grey-2 ellipsis",style:"max-width: 100px",headerClasses:"bg-green text-white"},{name:"porcentagem",required:!0,label:"Porcentagem",align:"right",format:function(e){return"".concat(e)},sortable:!0,classes:"bg-grey-2 ellipsis",style:"max-width: 100px",headerClasses:"bg-green text-white"},{name:"porcentagemtotal",required:!0,label:"Porcentagem Total",align:"right",format:function(e){return"".concat(e)},sortable:!0,classes:"bg-grey-2 ellipsis",style:"max-width: 100px",headerClasses:"bg-green text-white"}]}},methods:{recebeDadosTabela:function(){var e=this;"P"==this.tipoItem?w("v1/caixa/produto").then((function(o){e.dadosTabela=o.data})).catch((function(e){return console.log(e)})):"S"==this.tipoItem&&w("v1/caixa/servico").then((function(o){e.dadosTabela=o.data})).catch((function(e){return console.log(e)}))}},created:function(){this.recebeDadosTabela()}},sa=na,la=Object(_["a"])(sa,ia,ra,!1,null,null,null),ca=la.exports;ie()(la,"components",{QTable:Be["a"],QTd:Ee["a"]});var da={name:"Modal-Caixa",components:{TabelaCaixa:ca},data:function(){return{exibeModal:!1,totalLinhas:[5],valorTotal:0,dadosServico:[],dadosProduto:[],dadosFormaPagamento:[],colunasFormaPagamento:[{name:"id",required:!0,label:"ID",align:"right",field:"id",format:function(e){return"".concat(e)},sortable:!0,classes:"bg-grey-2 ellipsis",style:"max-width: 100px",headerClasses:"bg-green text-white"},{name:"titulo",required:!0,label:"Título",align:"left",field:"titulo",format:function(e){return"".concat(e)},sortable:!0,classes:"bg-grey-2 ellipsis",style:"max-width: 100px",headerClasses:"bg-green text-white"},{name:"descricao",required:!0,label:"Descrição",align:"left",field:"descricao",format:function(e){return"".concat(e)},sortable:!0,classes:"bg-grey-2 ellipsis",style:"max-width: 100px",headerClasses:"bg-green text-white"},{name:"total",required:!0,label:"Valor Total",align:"right",format:function(e){return"".concat(e)},sortable:!0,classes:"bg-grey-2 ellipsis",style:"max-width: 100px",headerClasses:"bg-green text-white"}]}},methods:{fechaModal:function(){this.dadosServico=[],this.dadosProduto=[],this.dadosFormaPagamento=[],this.valorTotal=0,this.exibeModal=!this.exibeModal},exibirModal:function(){this.exibeModal=!this.exibeModal,this.recebeDadosTabela()},recebeDadosTabela:function(){var e=this;w("v1/atendimento/geral/formapagamento").then((function(o){e.dadosFormaPagamento=o.data;for(var t=o.data,a={},i=0;i<t.length;i++)a.valor=t[i].total,e.valorTotal+=a.valor,a={}})).catch((function(e){return console.log(e)}))}}},ua=da,ma=Object(_["a"])(ua,ta,aa,!1,null,null,null),fa=ma.exports;ie()(ma,"components",{QDialog:H["a"],QLayout:U["a"],QHeader:W["a"],QToolbarTitle:Y["a"],QBtn:K["a"],QPageContainer:X["a"],QPage:J["a"],QTable:Be["a"],QTd:Ee["a"],QCardSection:Ge["a"],QIcon:ee["a"],QFooter:oe["a"]});var pa={name:"Servicos",components:{ModalOrdemServico:Qo,ModalProduto:Yo,ModalProfissional:lt,ModalCliente:yt,ModalServico:Nt,ModalFormaPagamento:Yt,ModalCaixa:fa,TabelaAtendimento:oa},data:function(){return{fab1:!1,maximoLinhas:[5],tabela:"emAberto",nomeProfissional:"",nomeCliente:"",telefoneCliente:"",filtroBuscar:"",separator:"cell",dadosUsuario:{},dados:[],colunas:[{name:"showme",required:!0,label:"Inclusão",align:"center",classes:"bg-grey-2 text-dark",headerClasses:"bg-dark text-white"},{name:"id",required:!0,label:"ID",align:"right",field:"id",classes:"bg-grey-2 text-dark",headerClasses:"bg-dark text-white"},{name:"situacao",required:!0,label:"Situação",align:"center",classes:"bg-grey-2 text-dark",headerClasses:"bg-blue-10 text-white"},{name:"cliente",required:!0,label:"Cliente",align:"left",classes:"bg-grey-3 text-dark",headerClasses:"bg-grey-8 text-white"},{name:"celular",required:!0,label:"Celular",align:"left",classes:"bg-grey-3 text-dark",headerClasses:"bg-grey-8 text-white"},{name:"dataServico",required:!0,label:"Data e Hora do Serviço",align:"left",classes:"bg-grey-2 text-dark",headerClasses:"bg-dark text-white"},{name:"profissional",required:!0,label:"Profissional",align:"left",classes:"bg-grey-2 text-dark",headerClasses:"bg-dark text-white"},{name:"acoes",required:!0,label:"Opções",align:"center",classes:"bg-grey-2 text-dark",headerClasses:"bg-dark text-white"}]}},methods:{abrirModalProduto:function(){this.$refs.modalProduto.abreModalProduto()},abrirModalProfissional:function(){this.$refs.modalProfissional.abreModalProfissional()},abrirModalCliente:function(){this.$refs.modalCliente.abreModalCliente()},abrirModalServico:function(){this.$refs.modalServico.exibeModalServico()},abrirModalFormaPagamento:function(){this.$refs.modalFormaPagamento.exibeModalFormaPagamento()},exibirModalInclusao:function(){this.$refs.modalOrdemServico.exibirModalInclusao("Inclusão")},exibirModalVisualizacao:function(e){this.$refs.modalOrdemServico.exibirModalVisualizacao("Visualização",e)},exibirModalInsereItens:function(e){this.$refs.modalOrdemServico.exibirModalInsereItens("Inserir Itens",e)},exibirModalInsereFormaDePagamento:function(e){this.$refs.modalOrdemServico.exibirModalInsereFormaPagamento("Inserir Forma de Pagamento",e)},exibirModalCaixa:function(){this.$refs.modalCaixa.exibirModal()},confirmacao:function(){var e=this;return new Promise((function(o,t){e.$q.dialog({dark:!0,title:"Tem certeza que deseja excluir este Atendimento ?",cancel:"Sair",persistent:!0}).onOk((function(){o()}))}))},verificaTokenValido:function(){var e=this,o=localStorage.getItem("token");null==o&&""==o&&void 0==o||w("v1/empresa/usuario/token").then((function(e){200==e.status&&console.log("O.K")})).catch((function(o){console.log(o),e.$router.push("/")}))},recebeDadosTabelas:function(e){"A"==e?this.$refs.tabelaAtendimentoAberto.recebeDadosTabela(e):"B"==e?this.$refs.tabelaAtendimentoFinanceiro.recebeDadosTabela(e):"C"==e&&this.$refs.tabelaAtendimentoFinalizado.recebeDadosTabela(e)},dadosLocalStorage:function(){var e=JSON.parse(localStorage.getItem("tokenContent"));this.dadosUsuario=e}},created:function(){this.dadosLocalStorage()},mounted:function(){this.recebeDadosTabelas("A"),this.verificaTokenValido()}},ha=pa,ba=t("c294"),ga=t("72db"),va=t("7460"),xa=t("adad"),qa=t("823b"),ya=Object(_["a"])(ha,Qe,Ae,!1,null,null,null),Pa=ya.exports;ie()(ya,"components",{QBtn:K["a"],QTooltip:je["a"],QFab:ba["a"],QFabAction:ga["a"],QCard:Re["a"],QTabs:Me["a"],QTab:va["a"],QSeparator:ye["a"],QTabPanels:xa["a"],QTabPanel:qa["a"]});var Ca={name:"Home",components:{GradeServico:Pa,Header:Ie}},wa=Ca,Sa=(t("5c03"),Object(_["a"])(wa,me,fe,!1,null,"00692642",null)),ka=Sa.exports;ie()(Sa,"components",{QLayout:U["a"],QPageContainer:X["a"],QImg:ce["a"],QPage:J["a"]});var Ta=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("q-layout",{staticStyle:{width:"100%"},attrs:{view:"hhh Lpr fff"}},[t("Header"),t("q-page-container",[t("q-page",{staticClass:"bg-brown",attrs:{padding:""}},[t("GradeFinanceiro")],1)],1)],1)},Ma=[],_a=function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"transparent"},[t("div",{staticClass:"q-mb-md row justify-end"},[t("q-btn",{attrs:{size:"14px",round:"",color:"primary",icon:"redo"},on:{click:e.paginaPrincipal}},[t("q-tooltip",{attrs:{anchor:"center left",self:"center right",offset:[10,10],"content-style":"font-size: 14px"}},[e._v("Página Principal")])],1)],1),t("hr",{staticClass:"q-mb-md"})])},Da=[],Ia={name:"Financeiro",data:function(){return{}},methods:{paginaPrincipal:function(){this.$router.push("/home")}}},Qa=Ia,Aa=Object(_["a"])(Qa,_a,Da,!1,null,null,null),Fa=Aa.exports;ie()(Aa,"components",{QBtn:K["a"],QTooltip:je["a"]});var Na={name:"Home",components:{GradeFinanceiro:Fa,Header:Ie}},La=Na,$a=Object(_["a"])(La,Ta,Ma,!1,null,null,null),za=$a.exports;ie()($a,"components",{QLayout:U["a"],QPageContainer:X["a"],QPage:J["a"]});var Va=function(){var e=this,o=e.$createElement,a=e._self._c||o;return a("div",{staticClass:"row justify-center bg-dark"},[a("div",{staticClass:"linhaVertical bg-white"}),a("div",{staticClass:"bg-white container"},[a("div",{staticClass:"row justify-center col-12"},[a("q-img",{staticClass:"imagem col-6",attrs:{src:t("954e")}}),e._m(0)],1),a("hr",{staticClass:"q-mt-sm"}),a("div",{staticClass:"titulo"},[e._v("Relatório de Atendimento (N° "+e._s(e.atendimentoID)+")")]),a("hr",{staticClass:"q-mt-sm"}),a("div",{staticClass:"bg-grey-4 q-mt-xs col-12"},[a("q-toolbar-title",{staticClass:"q-ma-sm col-12"},[e._v("Serviços")])],1),a("div",{staticClass:"col-12"},[e._m(1),a("div",{staticClass:"col-12 bg-dark",staticStyle:{height:"1px"}}),a("div",{staticClass:"col-12 q-mt-xs"},e._l(e.servicoAtendimento,(function(o,t){return a("div",{key:t,staticClass:"row col-12"},[a("div",{staticClass:"col-1",staticStyle:{"text-align":"end"}},[e._v(e._s(o.id))]),a("div",{staticClass:"col-4 over"},[e._v(e._s(o.descricao))]),a("div",{staticClass:"col-2",staticStyle:{"text-align":"end"}},[e._v(e._s(o.quantidade))]),a("div",{staticClass:"col-2 q-ml-md",staticStyle:{"text-align":"end"}},[e._v("R$ "+e._s(o.valorUnitario.toFixed(2)))]),a("div",{staticClass:"col-2 q-ml-lg",staticStyle:{"text-align":"end"}},[e._v("R$ "+e._s(o.valorTotal.toFixed(2)))])])})),0),a("div",{staticClass:"row total"},[a("div",[e._v("Total: R$ "+e._s(e.valorTotalServico.toFixed(2)))])])]),a("div",{staticClass:"bg-grey-4 q-mt-xs col-12"},[a("q-toolbar-title",{staticClass:"q-ma-sm col-12"},[e._v("Produtos")])],1),a("div",{staticClass:"col-12"},[e._m(2),a("div",{staticClass:"col-12 bg-dark",staticStyle:{height:"1px"}}),a("div",{staticClass:"col-12"},e._l(e.produtoAtendimento,(function(o,t){return a("div",{key:t,staticClass:"row col-12"},[a("div",{staticClass:"col-1",staticStyle:{"text-align":"end"}},[e._v(e._s(o.id))]),a("div",{staticClass:"col-4 over"},[e._v(e._s(o.descricao))]),a("div",{staticClass:"col-2",staticStyle:{"text-align":"end"}},[e._v(e._s(o.quantidade))]),a("div",{staticClass:"col-2 q-ml-md",staticStyle:{"text-align":"end"}},[e._v("R$ "+e._s(o.valorUnitario.toFixed(2)))]),a("div",{staticClass:"col-2 q-ml-lg",staticStyle:{"text-align":"end"}},[e._v("R$ "+e._s(o.valorTotal.toFixed(2)))])])})),0),a("div",{staticClass:"row total"},[a("div",[e._v("Total: R$ "+e._s(e.valorTotalProduto.toFixed(2)))])])]),a("div",{staticClass:"bg-grey-4 q-mt-xs col-12"},[a("q-toolbar-title",{staticClass:"q-ma-sm col-12"},[e._v("Forma de Pagamento")])],1),a("div",{staticClass:"col-12"},[e._m(3),a("div",{staticClass:"col-12 bg-dark",staticStyle:{height:"1px"}}),a("div",{staticClass:"col-12"},e._l(e.itemFormaAtendimento,(function(o,t){return a("div",{key:t,staticClass:"row col-12"},[a("div",{staticClass:"col-1",staticStyle:{"text-align":"end"}},[e._v(e._s(o.id))]),a("div",{staticClass:"col-5 over"},[e._v(e._s(o.descricao))]),a("div",{staticClass:"col-3",staticStyle:{"text-align":"center"}},[e._v(e._s(o.formaPagamento.titulo))]),a("div",{staticClass:"col-2",staticStyle:{"text-align":"end","margin-left":"40px"}},[e._v("R$ "+e._s(o.valor.toFixed(2)))])])})),0),a("div",{staticClass:"row total"},[a("div",[e._v("Valor Geral Total: R$ "+e._s(e.valorTotalFormaPagamento.toFixed(2)))])]),a("div",{staticClass:"col-12 bg-dark",staticStyle:{height:"1px"}}),a("div",{staticClass:"row justify-center q-mt-xs"},[a("strong",[e._v("Data")]),e._v(": "+e._s((new Date).toLocaleDateString("pt-BR"))+" - "+e._s((new Date).toLocaleTimeString("pt-BR")))])])]),a("div",{staticClass:"linhaVertical bg-white"})])},Oa=[function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"col-6 row justify-center"},[t("div",[t("strong",[e._v("Cliente: ")])])])},function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"row text-bold"},[t("div",{staticClass:"col-1",staticStyle:{"text-align":"end"}},[e._v("ID")]),t("div",{staticClass:"col-4 over"},[e._v("Descrição")]),t("div",{staticClass:"col-2",staticStyle:{"text-align":"end"}},[e._v("Quantidade")]),t("div",{staticClass:"col-2 q-ml-md",staticStyle:{"text-align":"end"}},[e._v("Valor Unitário")]),t("div",{staticClass:"col-2 q-ml-lg",staticStyle:{"text-align":"end"}},[e._v("Valor Total")])])},function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"row text-bold"},[t("div",{staticClass:"col-1",staticStyle:{"text-align":"end"}},[e._v("ID")]),t("div",{staticClass:"col-4 over"},[e._v("Descrição")]),t("div",{staticClass:"col-2",staticStyle:{"text-align":"end"}},[e._v("Quantidade")]),t("div",{staticClass:"col-2 q-ml-md",staticStyle:{"text-align":"end"}},[e._v("Valor Unitário")]),t("div",{staticClass:"col-2 q-ml-lg",staticStyle:{"text-align":"end"}},[e._v("Valor Total")])])},function(){var e=this,o=e.$createElement,t=e._self._c||o;return t("div",{staticClass:"row text-bold"},[t("div",{staticClass:"col-1",staticStyle:{"text-align":"end"}},[e._v("ID")]),t("div",{staticClass:"col-5 over"},[e._v("Descrição")]),t("div",{staticClass:"col-3",staticStyle:{"text-align":"center"}},[e._v("Título")]),t("div",{staticClass:"col-2",staticStyle:{"text-align":"end","margin-left":"40px"}},[e._v("Valor Total")])])}],ja={name:"Relatorio-Atendimento",data:function(){return{atendimentoID:"",valorTotalServico:0,valorTotalProduto:0,valorTotalFormaPagamento:0,dadosAtendimento:[],itemFormaAtendimento:[],servicoAtendimento:[],produtoAtendimento:[]}},methods:{recebeDadosAtendimento:function(){var e=this,o=this.atendimentoID;this.valorTotalServico=0,this.valorTotalProduto=0,this.valorTotalFormaPagamento=0,w("v1/itematendimento/atendimentoservico/"+o).then((function(o){e.servicoAtendimento=o.data;for(var t=0;t<o.data.length;t++)e.valorTotalServico+=o.data[t].valorTotal})).catch((function(e){return console.log(e)})),w("v1/itematendimento/atendimentoproduto/"+o).then((function(o){e.produtoAtendimento=o.data;for(var t=0;t<o.data.length;t++)e.valorTotalProduto+=o.data[t].valorTotal})).catch((function(e){return console.log(e)})),w("v1/itemformapagamento/"+o).then((function(o){e.itemFormaAtendimento=o.data;for(var t=0;t<o.data.length;t++)e.valorTotalFormaPagamento+=o.data[t].valor})).catch((function(e){return console.log(e)}))},mostraId:function(){console.log(this.valorTotalFormaPagamento)}},mounted:function(){this.atendimentoID=this.$route.params.id,this.recebeDadosAtendimento()}},Ba=ja,Ea=(t("6a53"),Object(_["a"])(Ba,Va,Oa,!1,null,"18fc9de4",null)),Ra=Ea.exports;ie()(Ea,"components",{QImg:ce["a"],QToolbarTitle:Y["a"]});var Ga=[{name:"login",path:"/",component:ue},{name:"home",path:"/home",component:ka},{name:"financeiro",path:"/financeiro",component:za},{name:"relatorio",path:"/relatorio/:id",component:Ra}],Ha=Ga;r["a"].use(Q["a"]);var Ua=function(){var e=new Q["a"]({scrollBehavior:function(){return{x:0,y:0}},routes:Ha});return e},Wa=function(){return Ya.apply(this,arguments)};function Ya(){return Ya=i()(regeneratorRuntime.mark((function e(){var o,t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if("function"!==typeof Ua){e.next=6;break}return e.next=3,Ua({Vue:r["a"]});case 3:e.t0=e.sent,e.next=7;break;case 6:e.t0=Ua;case 7:return o=e.t0,t={router:o,render:function(e){return e(I)}},t.el="#q-app",e.abrupt("return",{app:t,router:o});case 11:case"end":return e.stop()}}),e)}))),Ya.apply(this,arguments)}var Ka=t("a925"),Xa={failed:"Action failed",success:"Action was successful"},Ja={"en-us":Xa};r["a"].use(Ka["a"]);var Za=new Ka["a"]({locale:"en-us",fallbackLocale:"en-us",messages:Ja}),ei=function(e){var o=e.app;o.i18n=Za};r["a"].prototype.$axios=p.a;var oi="";function ti(){return ai.apply(this,arguments)}function ai(){return ai=i()(regeneratorRuntime.mark((function e(){var o,t,a,i,n,s,l,c;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Wa();case 2:o=e.sent,t=o.app,a=o.router,i=!1,n=function(e){i=!0;var o=Object(e)===e?a.resolve(e).route.fullPath:e;window.location.href=o},s=window.location.href.replace(window.location.origin,""),l=[ei,void 0],c=0;case 10:if(!(!1===i&&c<l.length)){e.next=28;break}if("function"===typeof l[c]){e.next=13;break}return e.abrupt("continue",25);case 13:return e.prev=13,e.next=16,l[c]({app:t,router:a,Vue:r["a"],ssrContext:null,redirect:n,urlPath:s,publicPath:oi});case 16:e.next=25;break;case 18:if(e.prev=18,e.t0=e["catch"](13),!e.t0||!e.t0.url){e.next=23;break}return window.location.href=e.t0.url,e.abrupt("return");case 23:return console.error("[Quasar] boot error:",e.t0),e.abrupt("return");case 25:c++,e.next=10;break;case 28:if(!0!==i){e.next=30;break}return e.abrupt("return");case 30:new r["a"](t);case 31:case"end":return e.stop()}}),e,null,[[13,18]])}))),ai.apply(this,arguments)}ti()},"2f96":function(e,o,t){},3348:function(e,o,t){"use strict";t("0565")},"34cb":function(e,o,t){e.exports=t.p+"img/man3.dd123db6.jpg"},"3ed6":function(e,o,t){},"42f7":function(e,o,t){"use strict";t("3ed6")},5012:function(e,o,t){},"5c03":function(e,o,t){"use strict";t("76d0")},"612b":function(e,o,t){},"6a53":function(e,o,t){"use strict";t("2f96")},"76d0":function(e,o,t){},7751:function(e,o,t){},7968:function(e,o,t){"use strict";t("974f")},8974:function(e,o,t){"use strict";t("db9a")},"8aa2":function(e,o,t){"use strict";t("add9")},"954e":function(e,o,t){e.exports=t.p+"img/bruceRelatorio.0e10034d.png"},"974f":function(e,o,t){},"9a4e":function(e,o,t){"use strict";t("ca65")},add9:function(e,o,t){},b0b5:function(e,o,t){"use strict";t("7751")},b260:function(e,o,t){},bc53:function(e,o,t){},be82:function(e,o,t){"use strict";t("b260")},c8ec:function(e,o,t){"use strict";t("612b")},ca65:function(e,o,t){},cba8:function(e,o,t){},da41:function(e,o,t){"use strict";t("e196")},db9a:function(e,o,t){},e196:function(e,o,t){},e68f:function(e,o,t){},ed82:function(e,o,t){},f71f:function(e,o,t){"use strict";t("cba8")},fccb:function(e,o,t){"use strict";t("bc53")},fecf:function(e,o,t){e.exports=t.p+"img/man2.4afb3165.jpg"}});